{"contract_context":{"contract_identifier":{"issuer":[22,[172,165,169,233,126,149,47,85,255,138,71,215,85,82,67,247,228,167,24,161]],"name":"clarity-bitcoin-lib-v5"},"variables":{"ERR-WITNESS-TX-NOT-IN-COMMITMENT":{"UInt":11},"ERR-BAD-HEADER":{"UInt":5},"ERR-TOO-MANY-WITNESSES":{"UInt":9},"ERR-INVALID-MERKLE-PROOF":{"UInt":7},"ERR-HEADER-HEIGHT-MISMATCH":{"UInt":6},"ERR-VARSLICE-TOO-LONG":{"UInt":4},"ERR-TOO-MANY-TXINS":{"UInt":2},"ERR-OUT-OF-BOUNDS":{"UInt":1},"ERR-INVALID-COMMITMENT":{"UInt":10},"ERR-NOT-SEGWIT-TRANSACTION":{"UInt":12},"ERR-PROOF-TOO-SHORT":{"UInt":8},"ERR-LEFTOVER-DATA":{"UInt":13},"ERR-TOO-MANY-TXOUTS":{"UInt":3}},"functions":{"read-uint32":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:read-uint32"},"name":"read-uint32","arg_types":[{"TupleType":{"type_map":{"index":"UIntType","txbuff":{"SequenceType":{"BufferType":4096}}}}}],"define_type":"ReadOnly","arguments":["ctx"],"body":{"expr":{"List":[{"expr":{"Atom":"let"},"id":233},{"expr":{"List":[{"expr":{"List":[{"expr":{"Atom":"data"},"id":236},{"expr":{"List":[{"expr":{"Atom":"get"},"id":238},{"expr":{"Atom":"txbuff"},"id":239},{"expr":{"Atom":"ctx"},"id":240}]},"id":237}]},"id":235},{"expr":{"List":[{"expr":{"Atom":"base"},"id":242},{"expr":{"List":[{"expr":{"Atom":"get"},"id":244},{"expr":{"Atom":"index"},"id":245},{"expr":{"Atom":"ctx"},"id":246}]},"id":243}]},"id":241}]},"id":234},{"expr":{"List":[{"expr":{"Atom":"ok"},"id":248},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":250},{"expr":{"List":[{"expr":{"Atom":"uint32"},"id":252},{"expr":{"List":[{"expr":{"Atom":"buff-to-uint-le"},"id":254},{"expr":{"List":[{"expr":{"Atom":"unwrap-panic"},"id":256},{"expr":{"List":[{"expr":{"Atom":"as-max-len?"},"id":258},{"expr":{"List":[{"expr":{"Atom":"unwrap!"},"id":260},{"expr":{"List":[{"expr":{"Atom":"slice?"},"id":262},{"expr":{"Atom":"data"},"id":263},{"expr":{"Atom":"base"},"id":264},{"expr":{"List":[{"expr":{"Atom":"+"},"id":266},{"expr":{"Atom":"base"},"id":267},{"expr":{"LiteralValue":{"UInt":4}},"id":268}]},"id":265}]},"id":261},{"expr":{"List":[{"expr":{"Atom":"err"},"id":270},{"expr":{"Atom":"ERR-OUT-OF-BOUNDS"},"id":271}]},"id":269}]},"id":259},{"expr":{"LiteralValue":{"UInt":4}},"id":272}]},"id":257}]},"id":255}]},"id":253}]},"id":251},{"expr":{"List":[{"expr":{"Atom":"ctx"},"id":274},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":276},{"expr":{"List":[{"expr":{"Atom":"txbuff"},"id":278},{"expr":{"Atom":"data"},"id":279}]},"id":277},{"expr":{"List":[{"expr":{"Atom":"index"},"id":281},{"expr":{"List":[{"expr":{"Atom":"+"},"id":283},{"expr":{"LiteralValue":{"UInt":4}},"id":284},{"expr":{"Atom":"base"},"id":285}]},"id":282}]},"id":280}]},"id":275}]},"id":273}]},"id":249}]},"id":247}]},"id":232}},"is-commitment-pattern":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:is-commitment-pattern"},"name":"is-commitment-pattern","arg_types":[{"SequenceType":{"BufferType":128}}],"define_type":"ReadOnly","arguments":["scriptPubKey"],"body":{"expr":{"List":[{"expr":{"Atom":"asserts!"},"id":2300},{"expr":{"List":[{"expr":{"Atom":"is-eq"},"id":2302},{"expr":{"List":[{"expr":{"Atom":"unwrap!"},"id":2304},{"expr":{"List":[{"expr":{"Atom":"slice?"},"id":2306},{"expr":{"Atom":"scriptPubKey"},"id":2307},{"expr":{"LiteralValue":{"UInt":0}},"id":2308},{"expr":{"LiteralValue":{"UInt":6}},"id":2309}]},"id":2305},{"expr":{"Atom":"false"},"id":2310}]},"id":2303},{"expr":{"LiteralValue":{"Sequence":{"Buffer":{"data":[106,36,170,33,169,237]}}}},"id":2311}]},"id":2301},{"expr":{"Atom":"false"},"id":2312}]},"id":2299}},"reverse-buff16":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:reverse-buff16"},"name":"reverse-buff16","arg_types":[{"SequenceType":{"BufferType":16}}],"define_type":"Private","arguments":["input"],"body":{"expr":{"List":[{"expr":{"Atom":"unwrap-panic"},"id":635},{"expr":{"List":[{"expr":{"Atom":"slice?"},"id":637},{"expr":{"List":[{"expr":{"Atom":"unwrap-panic"},"id":639},{"expr":{"List":[{"expr":{"Atom":"to-consensus-buff?"},"id":641},{"expr":{"List":[{"expr":{"Atom":"buff-to-uint-le"},"id":643},{"expr":{"Atom":"input"},"id":644}]},"id":642}]},"id":640}]},"id":638},{"expr":{"LiteralValue":{"UInt":1}},"id":645},{"expr":{"LiteralValue":{"UInt":17}},"id":646}]},"id":636}]},"id":634}},"read-varslice":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:read-varslice"},"name":"read-varslice","arg_types":[{"TupleType":{"type_map":{"index":"UIntType","txbuff":{"SequenceType":{"BufferType":4096}}}}}],"define_type":"ReadOnly","arguments":["old-ctx"],"body":{"expr":{"List":[{"expr":{"Atom":"let"},"id":563},{"expr":{"List":[{"expr":{"List":[{"expr":{"Atom":"parsed"},"id":566},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":568},{"expr":{"List":[{"expr":{"Atom":"read-varint"},"id":570},{"expr":{"Atom":"old-ctx"},"id":571}]},"id":569}]},"id":567}]},"id":565},{"expr":{"List":[{"expr":{"Atom":"ctx"},"id":573},{"expr":{"List":[{"expr":{"Atom":"get"},"id":575},{"expr":{"Atom":"ctx"},"id":576},{"expr":{"Atom":"parsed"},"id":577}]},"id":574}]},"id":572},{"expr":{"List":[{"expr":{"Atom":"slice-start"},"id":579},{"expr":{"List":[{"expr":{"Atom":"get"},"id":581},{"expr":{"Atom":"index"},"id":582},{"expr":{"Atom":"ctx"},"id":583}]},"id":580}]},"id":578},{"expr":{"List":[{"expr":{"Atom":"target-index"},"id":585},{"expr":{"List":[{"expr":{"Atom":"+"},"id":587},{"expr":{"Atom":"slice-start"},"id":588},{"expr":{"List":[{"expr":{"Atom":"get"},"id":590},{"expr":{"Atom":"varint"},"id":591},{"expr":{"Atom":"parsed"},"id":592}]},"id":589}]},"id":586}]},"id":584},{"expr":{"List":[{"expr":{"Atom":"txbuff"},"id":594},{"expr":{"List":[{"expr":{"Atom":"get"},"id":596},{"expr":{"Atom":"txbuff"},"id":597},{"expr":{"Atom":"ctx"},"id":598}]},"id":595}]},"id":593}]},"id":564},{"expr":{"List":[{"expr":{"Atom":"ok"},"id":600},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":602},{"expr":{"List":[{"expr":{"Atom":"varslice"},"id":604},{"expr":{"List":[{"expr":{"Atom":"unwrap!"},"id":606},{"expr":{"List":[{"expr":{"Atom":"slice?"},"id":608},{"expr":{"Atom":"txbuff"},"id":609},{"expr":{"Atom":"slice-start"},"id":610},{"expr":{"Atom":"target-index"},"id":611}]},"id":607},{"expr":{"List":[{"expr":{"Atom":"err"},"id":613},{"expr":{"Atom":"ERR-OUT-OF-BOUNDS"},"id":614}]},"id":612}]},"id":605}]},"id":603},{"expr":{"List":[{"expr":{"Atom":"ctx"},"id":616},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":618},{"expr":{"List":[{"expr":{"Atom":"txbuff"},"id":620},{"expr":{"Atom":"txbuff"},"id":621}]},"id":619},{"expr":{"List":[{"expr":{"Atom":"index"},"id":623},{"expr":{"Atom":"target-index"},"id":624}]},"id":622}]},"id":617}]},"id":615}]},"id":601}]},"id":599}]},"id":562}},"read-uint64":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:read-uint64"},"name":"read-uint64","arg_types":[{"TupleType":{"type_map":{"index":"UIntType","txbuff":{"SequenceType":{"BufferType":4096}}}}}],"define_type":"ReadOnly","arguments":["ctx"],"body":{"expr":{"List":[{"expr":{"Atom":"let"},"id":303},{"expr":{"List":[{"expr":{"List":[{"expr":{"Atom":"data"},"id":306},{"expr":{"List":[{"expr":{"Atom":"get"},"id":308},{"expr":{"Atom":"txbuff"},"id":309},{"expr":{"Atom":"ctx"},"id":310}]},"id":307}]},"id":305},{"expr":{"List":[{"expr":{"Atom":"base"},"id":312},{"expr":{"List":[{"expr":{"Atom":"get"},"id":314},{"expr":{"Atom":"index"},"id":315},{"expr":{"Atom":"ctx"},"id":316}]},"id":313}]},"id":311}]},"id":304},{"expr":{"List":[{"expr":{"Atom":"ok"},"id":318},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":320},{"expr":{"List":[{"expr":{"Atom":"uint64"},"id":322},{"expr":{"List":[{"expr":{"Atom":"buff-to-uint-le"},"id":324},{"expr":{"List":[{"expr":{"Atom":"unwrap-panic"},"id":326},{"expr":{"List":[{"expr":{"Atom":"as-max-len?"},"id":328},{"expr":{"List":[{"expr":{"Atom":"unwrap!"},"id":330},{"expr":{"List":[{"expr":{"Atom":"slice?"},"id":332},{"expr":{"Atom":"data"},"id":333},{"expr":{"Atom":"base"},"id":334},{"expr":{"List":[{"expr":{"Atom":"+"},"id":336},{"expr":{"Atom":"base"},"id":337},{"expr":{"LiteralValue":{"UInt":8}},"id":338}]},"id":335}]},"id":331},{"expr":{"List":[{"expr":{"Atom":"err"},"id":340},{"expr":{"Atom":"ERR-OUT-OF-BOUNDS"},"id":341}]},"id":339}]},"id":329},{"expr":{"LiteralValue":{"UInt":8}},"id":342}]},"id":327}]},"id":325}]},"id":323}]},"id":321},{"expr":{"List":[{"expr":{"Atom":"ctx"},"id":344},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":346},{"expr":{"List":[{"expr":{"Atom":"txbuff"},"id":348},{"expr":{"Atom":"data"},"id":349}]},"id":347},{"expr":{"List":[{"expr":{"Atom":"index"},"id":351},{"expr":{"List":[{"expr":{"Atom":"+"},"id":353},{"expr":{"LiteralValue":{"UInt":8}},"id":354},{"expr":{"Atom":"base"},"id":355}]},"id":352}]},"id":350}]},"id":345}]},"id":343}]},"id":319}]},"id":317}]},"id":302}},"verify-merkle-proof":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:verify-merkle-proof"},"name":"verify-merkle-proof","arg_types":[{"SequenceType":{"BufferType":32}},{"SequenceType":{"BufferType":32}},{"TupleType":{"type_map":{"hashes":{"SequenceType":{"ListType":{"max_len":14,"entry_type":{"SequenceType":{"BufferType":32}}}}},"tree-depth":"UIntType","tx-index":"UIntType"}}}],"define_type":"ReadOnly","arguments":["reversed-txid","merkle-root","proof"],"body":{"expr":{"List":[{"expr":{"Atom":"if"},"id":2203},{"expr":{"List":[{"expr":{"Atom":">"},"id":2205},{"expr":{"List":[{"expr":{"Atom":"get"},"id":2207},{"expr":{"Atom":"tree-depth"},"id":2208},{"expr":{"Atom":"proof"},"id":2209}]},"id":2206},{"expr":{"List":[{"expr":{"Atom":"len"},"id":2211},{"expr":{"List":[{"expr":{"Atom":"get"},"id":2213},{"expr":{"Atom":"hashes"},"id":2214},{"expr":{"Atom":"proof"},"id":2215}]},"id":2212}]},"id":2210}]},"id":2204},{"expr":{"List":[{"expr":{"Atom":"err"},"id":2217},{"expr":{"Atom":"ERR-PROOF-TOO-SHORT"},"id":2218}]},"id":2216},{"expr":{"List":[{"expr":{"Atom":"ok"},"id":2220},{"expr":{"List":[{"expr":{"Atom":"get"},"id":2222},{"expr":{"Atom":"verified"},"id":2223},{"expr":{"List":[{"expr":{"Atom":"fold"},"id":2225},{"expr":{"Atom":"inner-merkle-proof-verify"},"id":2226},{"expr":{"List":[{"expr":{"Atom":"unwrap-panic"},"id":2228},{"expr":{"List":[{"expr":{"Atom":"slice?"},"id":2230},{"expr":{"List":[{"expr":{"Atom":"list"},"id":2232},{"expr":{"LiteralValue":{"UInt":0}},"id":2233},{"expr":{"LiteralValue":{"UInt":1}},"id":2234},{"expr":{"LiteralValue":{"UInt":2}},"id":2235},{"expr":{"LiteralValue":{"UInt":3}},"id":2236},{"expr":{"LiteralValue":{"UInt":4}},"id":2237},{"expr":{"LiteralValue":{"UInt":5}},"id":2238},{"expr":{"LiteralValue":{"UInt":6}},"id":2239},{"expr":{"LiteralValue":{"UInt":7}},"id":2240},{"expr":{"LiteralValue":{"UInt":8}},"id":2241},{"expr":{"LiteralValue":{"UInt":9}},"id":2242},{"expr":{"LiteralValue":{"UInt":10}},"id":2243},{"expr":{"LiteralValue":{"UInt":11}},"id":2244},{"expr":{"LiteralValue":{"UInt":12}},"id":2245},{"expr":{"LiteralValue":{"UInt":13}},"id":2246}]},"id":2231},{"expr":{"LiteralValue":{"UInt":0}},"id":2247},{"expr":{"List":[{"expr":{"Atom":"get"},"id":2249},{"expr":{"Atom":"tree-depth"},"id":2250},{"expr":{"Atom":"proof"},"id":2251}]},"id":2248}]},"id":2229}]},"id":2227},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":2253},{"expr":{"List":[{"expr":{"Atom":"path"},"id":2255},{"expr":{"List":[{"expr":{"Atom":"+"},"id":2257},{"expr":{"List":[{"expr":{"Atom":"pow"},"id":2259},{"expr":{"LiteralValue":{"UInt":2}},"id":2260},{"expr":{"List":[{"expr":{"Atom":"get"},"id":2262},{"expr":{"Atom":"tree-depth"},"id":2263},{"expr":{"Atom":"proof"},"id":2264}]},"id":2261}]},"id":2258},{"expr":{"List":[{"expr":{"Atom":"get"},"id":2266},{"expr":{"Atom":"tx-index"},"id":2267},{"expr":{"Atom":"proof"},"id":2268}]},"id":2265}]},"id":2256}]},"id":2254},{"expr":{"List":[{"expr":{"Atom":"root-hash"},"id":2270},{"expr":{"Atom":"merkle-root"},"id":2271}]},"id":2269},{"expr":{"List":[{"expr":{"Atom":"proof-hashes"},"id":2273},{"expr":{"List":[{"expr":{"Atom":"get"},"id":2275},{"expr":{"Atom":"hashes"},"id":2276},{"expr":{"Atom":"proof"},"id":2277}]},"id":2274}]},"id":2272},{"expr":{"List":[{"expr":{"Atom":"cur-hash"},"id":2279},{"expr":{"Atom":"reversed-txid"},"id":2280}]},"id":2278},{"expr":{"List":[{"expr":{"Atom":"tree-depth"},"id":2282},{"expr":{"List":[{"expr":{"Atom":"get"},"id":2284},{"expr":{"Atom":"tree-depth"},"id":2285},{"expr":{"Atom":"proof"},"id":2286}]},"id":2283}]},"id":2281},{"expr":{"List":[{"expr":{"Atom":"verified"},"id":2288},{"expr":{"Atom":"false"},"id":2289}]},"id":2287}]},"id":2252}]},"id":2224}]},"id":2221}]},"id":2219}]},"id":2202}},"read-next-txin":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:read-next-txin"},"name":"read-next-txin","arg_types":["BoolType",{"ResponseType":[{"TupleType":{"type_map":{"ctx":{"TupleType":{"type_map":{"index":"UIntType","txbuff":{"SequenceType":{"BufferType":4096}}}}},"remaining":"UIntType","txins":{"SequenceType":{"ListType":{"max_len":8,"entry_type":{"TupleType":{"type_map":{"outpoint":{"TupleType":{"type_map":{"hash":{"SequenceType":{"BufferType":32}},"index":"UIntType"}}},"scriptSig":{"SequenceType":{"BufferType":256}},"sequence":"UIntType"}}}}}}}}},"UIntType"]}],"define_type":"ReadOnly","arguments":["ignored","result"],"body":{"expr":{"List":[{"expr":{"Atom":"let"},"id":821},{"expr":{"List":[{"expr":{"List":[{"expr":{"Atom":"state"},"id":824},{"expr":{"List":[{"expr":{"Atom":"unwrap!"},"id":826},{"expr":{"Atom":"result"},"id":827},{"expr":{"Atom":"result"},"id":828}]},"id":825}]},"id":823}]},"id":822},{"expr":{"List":[{"expr":{"Atom":"let"},"id":830},{"expr":{"List":[{"expr":{"List":[{"expr":{"Atom":"remaining"},"id":833},{"expr":{"List":[{"expr":{"Atom":"get"},"id":835},{"expr":{"Atom":"remaining"},"id":836},{"expr":{"Atom":"state"},"id":837}]},"id":834}]},"id":832},{"expr":{"List":[{"expr":{"Atom":"ctx"},"id":839},{"expr":{"List":[{"expr":{"Atom":"get"},"id":841},{"expr":{"Atom":"ctx"},"id":842},{"expr":{"Atom":"state"},"id":843}]},"id":840}]},"id":838},{"expr":{"List":[{"expr":{"Atom":"parsed-hash"},"id":845},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":847},{"expr":{"List":[{"expr":{"Atom":"read-hashslice"},"id":849},{"expr":{"Atom":"ctx"},"id":850}]},"id":848}]},"id":846}]},"id":844},{"expr":{"List":[{"expr":{"Atom":"parsed-index"},"id":852},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":854},{"expr":{"List":[{"expr":{"Atom":"read-uint32"},"id":856},{"expr":{"List":[{"expr":{"Atom":"get"},"id":858},{"expr":{"Atom":"ctx"},"id":859},{"expr":{"Atom":"parsed-hash"},"id":860}]},"id":857}]},"id":855}]},"id":853}]},"id":851},{"expr":{"List":[{"expr":{"Atom":"parsed-scriptSig"},"id":862},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":864},{"expr":{"List":[{"expr":{"Atom":"read-varslice"},"id":866},{"expr":{"List":[{"expr":{"Atom":"get"},"id":868},{"expr":{"Atom":"ctx"},"id":869},{"expr":{"Atom":"parsed-index"},"id":870}]},"id":867}]},"id":865}]},"id":863}]},"id":861},{"expr":{"List":[{"expr":{"Atom":"parsed-sequence"},"id":872},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":874},{"expr":{"List":[{"expr":{"Atom":"read-uint32"},"id":876},{"expr":{"List":[{"expr":{"Atom":"get"},"id":878},{"expr":{"Atom":"ctx"},"id":879},{"expr":{"Atom":"parsed-scriptSig"},"id":880}]},"id":877}]},"id":875}]},"id":873}]},"id":871},{"expr":{"List":[{"expr":{"Atom":"new-ctx"},"id":882},{"expr":{"List":[{"expr":{"Atom":"get"},"id":884},{"expr":{"Atom":"ctx"},"id":885},{"expr":{"Atom":"parsed-sequence"},"id":886}]},"id":883}]},"id":881}]},"id":831},{"expr":{"List":[{"expr":{"Atom":"ok"},"id":888},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":890},{"expr":{"List":[{"expr":{"Atom":"ctx"},"id":892},{"expr":{"Atom":"new-ctx"},"id":893}]},"id":891},{"expr":{"List":[{"expr":{"Atom":"remaining"},"id":895},{"expr":{"List":[{"expr":{"Atom":"-"},"id":897},{"expr":{"Atom":"remaining"},"id":898},{"expr":{"LiteralValue":{"UInt":1}},"id":899}]},"id":896}]},"id":894},{"expr":{"List":[{"expr":{"Atom":"txins"},"id":901},{"expr":{"List":[{"expr":{"Atom":"unwrap!"},"id":903},{"expr":{"List":[{"expr":{"Atom":"as-max-len?"},"id":905},{"expr":{"List":[{"expr":{"Atom":"append"},"id":907},{"expr":{"List":[{"expr":{"Atom":"get"},"id":909},{"expr":{"Atom":"txins"},"id":910},{"expr":{"Atom":"state"},"id":911}]},"id":908},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":913},{"expr":{"List":[{"expr":{"Atom":"outpoint"},"id":915},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":917},{"expr":{"List":[{"expr":{"Atom":"hash"},"id":919},{"expr":{"List":[{"expr":{"Atom":"get"},"id":921},{"expr":{"Atom":"hashslice"},"id":922},{"expr":{"Atom":"parsed-hash"},"id":923}]},"id":920}]},"id":918},{"expr":{"List":[{"expr":{"Atom":"index"},"id":925},{"expr":{"List":[{"expr":{"Atom":"get"},"id":927},{"expr":{"Atom":"uint32"},"id":928},{"expr":{"Atom":"parsed-index"},"id":929}]},"id":926}]},"id":924}]},"id":916}]},"id":914},{"expr":{"List":[{"expr":{"Atom":"scriptSig"},"id":931},{"expr":{"List":[{"expr":{"Atom":"unwrap!"},"id":933},{"expr":{"List":[{"expr":{"Atom":"as-max-len?"},"id":935},{"expr":{"List":[{"expr":{"Atom":"get"},"id":937},{"expr":{"Atom":"varslice"},"id":938},{"expr":{"Atom":"parsed-scriptSig"},"id":939}]},"id":936},{"expr":{"LiteralValue":{"UInt":256}},"id":940}]},"id":934},{"expr":{"List":[{"expr":{"Atom":"err"},"id":942},{"expr":{"Atom":"ERR-VARSLICE-TOO-LONG"},"id":943}]},"id":941}]},"id":932}]},"id":930},{"expr":{"List":[{"expr":{"Atom":"sequence"},"id":945},{"expr":{"List":[{"expr":{"Atom":"get"},"id":947},{"expr":{"Atom":"uint32"},"id":948},{"expr":{"Atom":"parsed-sequence"},"id":949}]},"id":946}]},"id":944}]},"id":912}]},"id":906},{"expr":{"LiteralValue":{"UInt":8}},"id":950}]},"id":904},{"expr":{"List":[{"expr":{"Atom":"err"},"id":952},{"expr":{"Atom":"ERR-TOO-MANY-TXINS"},"id":953}]},"id":951}]},"id":902}]},"id":900}]},"id":889}]},"id":887}]},"id":829}]},"id":820}},"read-txins":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:read-txins"},"name":"read-txins","arg_types":[{"TupleType":{"type_map":{"index":"UIntType","txbuff":{"SequenceType":{"BufferType":4096}}}}}],"define_type":"ReadOnly","arguments":["ctx"],"body":{"expr":{"List":[{"expr":{"Atom":"let"},"id":971},{"expr":{"List":[{"expr":{"List":[{"expr":{"Atom":"parsed-num-txins"},"id":974},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":976},{"expr":{"List":[{"expr":{"Atom":"read-varint"},"id":978},{"expr":{"Atom":"ctx"},"id":979}]},"id":977}]},"id":975}]},"id":973},{"expr":{"List":[{"expr":{"Atom":"num-txins"},"id":981},{"expr":{"List":[{"expr":{"Atom":"get"},"id":983},{"expr":{"Atom":"varint"},"id":984},{"expr":{"Atom":"parsed-num-txins"},"id":985}]},"id":982}]},"id":980},{"expr":{"List":[{"expr":{"Atom":"new-ctx"},"id":987},{"expr":{"List":[{"expr":{"Atom":"get"},"id":989},{"expr":{"Atom":"ctx"},"id":990},{"expr":{"Atom":"parsed-num-txins"},"id":991}]},"id":988}]},"id":986}]},"id":972},{"expr":{"List":[{"expr":{"Atom":"if"},"id":993},{"expr":{"List":[{"expr":{"Atom":">"},"id":995},{"expr":{"Atom":"num-txins"},"id":996},{"expr":{"LiteralValue":{"UInt":8}},"id":997}]},"id":994},{"expr":{"List":[{"expr":{"Atom":"err"},"id":999},{"expr":{"Atom":"ERR-TOO-MANY-TXINS"},"id":1000}]},"id":998},{"expr":{"List":[{"expr":{"Atom":"fold"},"id":1002},{"expr":{"Atom":"read-next-txin"},"id":1003},{"expr":{"List":[{"expr":{"Atom":"bool-list-of-len"},"id":1005},{"expr":{"Atom":"num-txins"},"id":1006}]},"id":1004},{"expr":{"List":[{"expr":{"Atom":"ok"},"id":1008},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":1010},{"expr":{"List":[{"expr":{"Atom":"ctx"},"id":1012},{"expr":{"Atom":"new-ctx"},"id":1013}]},"id":1011},{"expr":{"List":[{"expr":{"Atom":"remaining"},"id":1015},{"expr":{"Atom":"num-txins"},"id":1016}]},"id":1014},{"expr":{"List":[{"expr":{"Atom":"txins"},"id":1018},{"expr":{"List":[{"expr":{"Atom":"list"},"id":1020}]},"id":1019}]},"id":1017}]},"id":1009}]},"id":1007}]},"id":1001}]},"id":992}]},"id":970}},"read-next-txout":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:read-next-txout"},"name":"read-next-txout","arg_types":["BoolType",{"ResponseType":[{"TupleType":{"type_map":{"ctx":{"TupleType":{"type_map":{"index":"UIntType","txbuff":{"SequenceType":{"BufferType":4096}}}}},"txouts":{"SequenceType":{"ListType":{"max_len":8,"entry_type":{"TupleType":{"type_map":{"scriptPubKey":{"SequenceType":{"BufferType":128}},"value":"UIntType"}}}}}}}}},"UIntType"]}],"define_type":"ReadOnly","arguments":["ignored","result"],"body":{"expr":{"List":[{"expr":{"Atom":"let"},"id":1063},{"expr":{"List":[{"expr":{"List":[{"expr":{"Atom":"state"},"id":1066},{"expr":{"List":[{"expr":{"Atom":"unwrap!"},"id":1068},{"expr":{"Atom":"result"},"id":1069},{"expr":{"Atom":"result"},"id":1070}]},"id":1067}]},"id":1065},{"expr":{"List":[{"expr":{"Atom":"parsed-value"},"id":1072},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":1074},{"expr":{"List":[{"expr":{"Atom":"read-uint64"},"id":1076},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1078},{"expr":{"Atom":"ctx"},"id":1079},{"expr":{"Atom":"state"},"id":1080}]},"id":1077}]},"id":1075}]},"id":1073}]},"id":1071},{"expr":{"List":[{"expr":{"Atom":"parsed-script"},"id":1082},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":1084},{"expr":{"List":[{"expr":{"Atom":"read-varslice"},"id":1086},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1088},{"expr":{"Atom":"ctx"},"id":1089},{"expr":{"Atom":"parsed-value"},"id":1090}]},"id":1087}]},"id":1085}]},"id":1083}]},"id":1081},{"expr":{"List":[{"expr":{"Atom":"new-ctx"},"id":1092},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1094},{"expr":{"Atom":"ctx"},"id":1095},{"expr":{"Atom":"parsed-script"},"id":1096}]},"id":1093}]},"id":1091}]},"id":1064},{"expr":{"List":[{"expr":{"Atom":"ok"},"id":1098},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":1100},{"expr":{"List":[{"expr":{"Atom":"ctx"},"id":1102},{"expr":{"Atom":"new-ctx"},"id":1103}]},"id":1101},{"expr":{"List":[{"expr":{"Atom":"txouts"},"id":1105},{"expr":{"List":[{"expr":{"Atom":"unwrap!"},"id":1107},{"expr":{"List":[{"expr":{"Atom":"as-max-len?"},"id":1109},{"expr":{"List":[{"expr":{"Atom":"append"},"id":1111},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1113},{"expr":{"Atom":"txouts"},"id":1114},{"expr":{"Atom":"state"},"id":1115}]},"id":1112},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":1117},{"expr":{"List":[{"expr":{"Atom":"value"},"id":1119},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1121},{"expr":{"Atom":"uint64"},"id":1122},{"expr":{"Atom":"parsed-value"},"id":1123}]},"id":1120}]},"id":1118},{"expr":{"List":[{"expr":{"Atom":"scriptPubKey"},"id":1125},{"expr":{"List":[{"expr":{"Atom":"unwrap!"},"id":1127},{"expr":{"List":[{"expr":{"Atom":"as-max-len?"},"id":1129},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1131},{"expr":{"Atom":"varslice"},"id":1132},{"expr":{"Atom":"parsed-script"},"id":1133}]},"id":1130},{"expr":{"LiteralValue":{"UInt":128}},"id":1134}]},"id":1128},{"expr":{"List":[{"expr":{"Atom":"err"},"id":1136},{"expr":{"Atom":"ERR-VARSLICE-TOO-LONG"},"id":1137}]},"id":1135}]},"id":1126}]},"id":1124}]},"id":1116}]},"id":1110},{"expr":{"LiteralValue":{"UInt":8}},"id":1138}]},"id":1108},{"expr":{"List":[{"expr":{"Atom":"err"},"id":1140},{"expr":{"Atom":"ERR-TOO-MANY-TXOUTS"},"id":1141}]},"id":1139}]},"id":1106}]},"id":1104}]},"id":1099}]},"id":1097}]},"id":1062}},"get-commitment-scriptPubKey":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:get-commitment-scriptPubKey"},"name":"get-commitment-scriptPubKey","arg_types":[{"SequenceType":{"ListType":{"max_len":8,"entry_type":{"TupleType":{"type_map":{"scriptPubKey":{"SequenceType":{"BufferType":128}},"value":"UIntType"}}}}}}],"define_type":"ReadOnly","arguments":["outs"],"body":{"expr":{"List":[{"expr":{"Atom":"fold"},"id":2370},{"expr":{"Atom":"inner-get-commitment-scriptPubKey"},"id":2371},{"expr":{"Atom":"outs"},"id":2372},{"expr":{"LiteralValue":{"Sequence":{"Buffer":{"data":[]}}}},"id":2373}]},"id":2369}},"was-tx-mined-compact":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:was-tx-mined-compact"},"name":"was-tx-mined-compact","arg_types":["UIntType",{"SequenceType":{"BufferType":4096}},{"SequenceType":{"BufferType":80}},{"TupleType":{"type_map":{"hashes":{"SequenceType":{"ListType":{"max_len":14,"entry_type":{"SequenceType":{"BufferType":32}}}}},"tree-depth":"UIntType","tx-index":"UIntType"}}}],"define_type":"ReadOnly","arguments":["height","tx","header","proof"],"body":{"expr":{"List":[{"expr":{"Atom":"let"},"id":2495},{"expr":{"List":[{"expr":{"List":[{"expr":{"Atom":"block"},"id":2498},{"expr":{"List":[{"expr":{"Atom":"unwrap!"},"id":2500},{"expr":{"List":[{"expr":{"Atom":"parse-block-header"},"id":2502},{"expr":{"Atom":"header"},"id":2503}]},"id":2501},{"expr":{"List":[{"expr":{"Atom":"err"},"id":2505},{"expr":{"Atom":"ERR-BAD-HEADER"},"id":2506}]},"id":2504}]},"id":2499}]},"id":2497}]},"id":2496},{"expr":{"List":[{"expr":{"Atom":"was-tx-mined-internal"},"id":2508},{"expr":{"Atom":"height"},"id":2509},{"expr":{"Atom":"tx"},"id":2510},{"expr":{"Atom":"header"},"id":2511},{"expr":{"List":[{"expr":{"Atom":"get"},"id":2513},{"expr":{"Atom":"merkle-root"},"id":2514},{"expr":{"Atom":"block"},"id":2515}]},"id":2512},{"expr":{"Atom":"proof"},"id":2516}]},"id":2507}]},"id":2494}},"parse-block-header":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:parse-block-header"},"name":"parse-block-header","arg_types":[{"SequenceType":{"BufferType":80}}],"define_type":"ReadOnly","arguments":["headerbuff"],"body":{"expr":{"List":[{"expr":{"Atom":"let"},"id":1838},{"expr":{"List":[{"expr":{"List":[{"expr":{"Atom":"ctx"},"id":1841},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":1843},{"expr":{"List":[{"expr":{"Atom":"txbuff"},"id":1845},{"expr":{"Atom":"headerbuff"},"id":1846}]},"id":1844},{"expr":{"List":[{"expr":{"Atom":"index"},"id":1848},{"expr":{"LiteralValue":{"UInt":0}},"id":1849}]},"id":1847}]},"id":1842}]},"id":1840},{"expr":{"List":[{"expr":{"Atom":"parsed-version"},"id":1851},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":1853},{"expr":{"List":[{"expr":{"Atom":"read-uint32"},"id":1855},{"expr":{"Atom":"ctx"},"id":1856}]},"id":1854}]},"id":1852}]},"id":1850},{"expr":{"List":[{"expr":{"Atom":"parsed-parent-hash"},"id":1858},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":1860},{"expr":{"List":[{"expr":{"Atom":"read-hashslice"},"id":1862},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1864},{"expr":{"Atom":"ctx"},"id":1865},{"expr":{"Atom":"parsed-version"},"id":1866}]},"id":1863}]},"id":1861}]},"id":1859}]},"id":1857},{"expr":{"List":[{"expr":{"Atom":"parsed-merkle-root"},"id":1868},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":1870},{"expr":{"List":[{"expr":{"Atom":"read-hashslice"},"id":1872},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1874},{"expr":{"Atom":"ctx"},"id":1875},{"expr":{"Atom":"parsed-parent-hash"},"id":1876}]},"id":1873}]},"id":1871}]},"id":1869}]},"id":1867},{"expr":{"List":[{"expr":{"Atom":"parsed-timestamp"},"id":1878},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":1880},{"expr":{"List":[{"expr":{"Atom":"read-uint32"},"id":1882},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1884},{"expr":{"Atom":"ctx"},"id":1885},{"expr":{"Atom":"parsed-merkle-root"},"id":1886}]},"id":1883}]},"id":1881}]},"id":1879}]},"id":1877},{"expr":{"List":[{"expr":{"Atom":"parsed-nbits"},"id":1888},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":1890},{"expr":{"List":[{"expr":{"Atom":"read-uint32"},"id":1892},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1894},{"expr":{"Atom":"ctx"},"id":1895},{"expr":{"Atom":"parsed-timestamp"},"id":1896}]},"id":1893}]},"id":1891}]},"id":1889}]},"id":1887},{"expr":{"List":[{"expr":{"Atom":"parsed-nonce"},"id":1898},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":1900},{"expr":{"List":[{"expr":{"Atom":"read-uint32"},"id":1902},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1904},{"expr":{"Atom":"ctx"},"id":1905},{"expr":{"Atom":"parsed-nbits"},"id":1906}]},"id":1903}]},"id":1901}]},"id":1899}]},"id":1897}]},"id":1839},{"expr":{"List":[{"expr":{"Atom":"ok"},"id":1908},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":1910},{"expr":{"List":[{"expr":{"Atom":"version"},"id":1912},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1914},{"expr":{"Atom":"uint32"},"id":1915},{"expr":{"Atom":"parsed-version"},"id":1916}]},"id":1913}]},"id":1911},{"expr":{"List":[{"expr":{"Atom":"parent"},"id":1918},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1920},{"expr":{"Atom":"hashslice"},"id":1921},{"expr":{"Atom":"parsed-parent-hash"},"id":1922}]},"id":1919}]},"id":1917},{"expr":{"List":[{"expr":{"Atom":"merkle-root"},"id":1924},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1926},{"expr":{"Atom":"hashslice"},"id":1927},{"expr":{"Atom":"parsed-merkle-root"},"id":1928}]},"id":1925}]},"id":1923},{"expr":{"List":[{"expr":{"Atom":"timestamp"},"id":1930},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1932},{"expr":{"Atom":"uint32"},"id":1933},{"expr":{"Atom":"parsed-timestamp"},"id":1934}]},"id":1931}]},"id":1929},{"expr":{"List":[{"expr":{"Atom":"nbits"},"id":1936},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1938},{"expr":{"Atom":"uint32"},"id":1939},{"expr":{"Atom":"parsed-nbits"},"id":1940}]},"id":1937}]},"id":1935},{"expr":{"List":[{"expr":{"Atom":"nonce"},"id":1942},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1944},{"expr":{"Atom":"uint32"},"id":1945},{"expr":{"Atom":"parsed-nonce"},"id":1946}]},"id":1943}]},"id":1941}]},"id":1909}]},"id":1907}]},"id":1837}},"is-bit-set":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:is-bit-set"},"name":"is-bit-set","arg_types":["UIntType","UIntType"],"define_type":"ReadOnly","arguments":["val","bit"],"body":{"expr":{"List":[{"expr":{"Atom":">"},"id":2028},{"expr":{"List":[{"expr":{"Atom":"bit-and"},"id":2030},{"expr":{"Atom":"val"},"id":2031},{"expr":{"List":[{"expr":{"Atom":"bit-shift-left"},"id":2033},{"expr":{"LiteralValue":{"UInt":1}},"id":2034},{"expr":{"Atom":"bit"},"id":2035}]},"id":2032}]},"id":2029},{"expr":{"LiteralValue":{"UInt":0}},"id":2036}]},"id":2027}},"parse-tx":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:parse-tx"},"name":"parse-tx","arg_types":[{"SequenceType":{"BufferType":4096}}],"define_type":"ReadOnly","arguments":["tx"],"body":{"expr":{"List":[{"expr":{"Atom":"let"},"id":1734},{"expr":{"List":[{"expr":{"List":[{"expr":{"Atom":"ctx"},"id":1737},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":1739},{"expr":{"List":[{"expr":{"Atom":"txbuff"},"id":1741},{"expr":{"Atom":"tx"},"id":1742}]},"id":1740},{"expr":{"List":[{"expr":{"Atom":"index"},"id":1744},{"expr":{"LiteralValue":{"UInt":0}},"id":1745}]},"id":1743}]},"id":1738}]},"id":1736},{"expr":{"List":[{"expr":{"Atom":"parsed-version"},"id":1747},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":1749},{"expr":{"List":[{"expr":{"Atom":"read-uint32"},"id":1751},{"expr":{"Atom":"ctx"},"id":1752}]},"id":1750}]},"id":1748}]},"id":1746},{"expr":{"List":[{"expr":{"Atom":"parsed-txins"},"id":1754},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":1756},{"expr":{"List":[{"expr":{"Atom":"read-txins"},"id":1758},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1760},{"expr":{"Atom":"ctx"},"id":1761},{"expr":{"Atom":"parsed-version"},"id":1762}]},"id":1759}]},"id":1757}]},"id":1755}]},"id":1753},{"expr":{"List":[{"expr":{"Atom":"parsed-txouts"},"id":1764},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":1766},{"expr":{"List":[{"expr":{"Atom":"read-txouts"},"id":1768},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1770},{"expr":{"Atom":"ctx"},"id":1771},{"expr":{"Atom":"parsed-txins"},"id":1772}]},"id":1769}]},"id":1767}]},"id":1765}]},"id":1763},{"expr":{"List":[{"expr":{"Atom":"parsed-locktime"},"id":1774},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":1776},{"expr":{"List":[{"expr":{"Atom":"read-uint32"},"id":1778},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1780},{"expr":{"Atom":"ctx"},"id":1781},{"expr":{"Atom":"parsed-txouts"},"id":1782}]},"id":1779}]},"id":1777}]},"id":1775}]},"id":1773}]},"id":1735},{"expr":{"List":[{"expr":{"Atom":"asserts!"},"id":1784},{"expr":{"List":[{"expr":{"Atom":"is-eq"},"id":1786},{"expr":{"List":[{"expr":{"Atom":"len"},"id":1788},{"expr":{"Atom":"tx"},"id":1789}]},"id":1787},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1791},{"expr":{"Atom":"index"},"id":1792},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1794},{"expr":{"Atom":"ctx"},"id":1795},{"expr":{"Atom":"parsed-locktime"},"id":1796}]},"id":1793}]},"id":1790}]},"id":1785},{"expr":{"List":[{"expr":{"Atom":"err"},"id":1798},{"expr":{"Atom":"ERR-LEFTOVER-DATA"},"id":1799}]},"id":1797}]},"id":1783},{"expr":{"List":[{"expr":{"Atom":"ok"},"id":1801},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":1803},{"expr":{"List":[{"expr":{"Atom":"version"},"id":1805},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1807},{"expr":{"Atom":"uint32"},"id":1808},{"expr":{"Atom":"parsed-version"},"id":1809}]},"id":1806}]},"id":1804},{"expr":{"List":[{"expr":{"Atom":"ins"},"id":1811},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1813},{"expr":{"Atom":"txins"},"id":1814},{"expr":{"Atom":"parsed-txins"},"id":1815}]},"id":1812}]},"id":1810},{"expr":{"List":[{"expr":{"Atom":"outs"},"id":1817},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1819},{"expr":{"Atom":"txouts"},"id":1820},{"expr":{"Atom":"parsed-txouts"},"id":1821}]},"id":1818}]},"id":1816},{"expr":{"List":[{"expr":{"Atom":"locktime"},"id":1823},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1825},{"expr":{"Atom":"uint32"},"id":1826},{"expr":{"Atom":"parsed-locktime"},"id":1827}]},"id":1824}]},"id":1822}]},"id":1802}]},"id":1800}]},"id":1733}},"read-hashslice":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:read-hashslice"},"name":"read-hashslice","arg_types":[{"TupleType":{"type_map":{"index":"UIntType","txbuff":{"SequenceType":{"BufferType":4096}}}}}],"define_type":"ReadOnly","arguments":["old-ctx"],"body":{"expr":{"List":[{"expr":{"Atom":"let"},"id":708},{"expr":{"List":[{"expr":{"List":[{"expr":{"Atom":"slice-start"},"id":711},{"expr":{"List":[{"expr":{"Atom":"get"},"id":713},{"expr":{"Atom":"index"},"id":714},{"expr":{"Atom":"old-ctx"},"id":715}]},"id":712}]},"id":710},{"expr":{"List":[{"expr":{"Atom":"target-index"},"id":717},{"expr":{"List":[{"expr":{"Atom":"+"},"id":719},{"expr":{"LiteralValue":{"UInt":32}},"id":720},{"expr":{"Atom":"slice-start"},"id":721}]},"id":718}]},"id":716},{"expr":{"List":[{"expr":{"Atom":"txbuff"},"id":723},{"expr":{"List":[{"expr":{"Atom":"get"},"id":725},{"expr":{"Atom":"txbuff"},"id":726},{"expr":{"Atom":"old-ctx"},"id":727}]},"id":724}]},"id":722},{"expr":{"List":[{"expr":{"Atom":"hash-le"},"id":729},{"expr":{"List":[{"expr":{"Atom":"unwrap-panic"},"id":731},{"expr":{"List":[{"expr":{"Atom":"as-max-len?"},"id":733},{"expr":{"List":[{"expr":{"Atom":"unwrap!"},"id":735},{"expr":{"List":[{"expr":{"Atom":"slice?"},"id":737},{"expr":{"Atom":"txbuff"},"id":738},{"expr":{"Atom":"slice-start"},"id":739},{"expr":{"Atom":"target-index"},"id":740}]},"id":736},{"expr":{"List":[{"expr":{"Atom":"err"},"id":742},{"expr":{"Atom":"ERR-OUT-OF-BOUNDS"},"id":743}]},"id":741}]},"id":734},{"expr":{"LiteralValue":{"UInt":32}},"id":744}]},"id":732}]},"id":730}]},"id":728}]},"id":709},{"expr":{"List":[{"expr":{"Atom":"ok"},"id":746},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":748},{"expr":{"List":[{"expr":{"Atom":"hashslice"},"id":750},{"expr":{"List":[{"expr":{"Atom":"reverse-buff32"},"id":752},{"expr":{"Atom":"hash-le"},"id":753}]},"id":751}]},"id":749},{"expr":{"List":[{"expr":{"Atom":"ctx"},"id":755},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":757},{"expr":{"List":[{"expr":{"Atom":"txbuff"},"id":759},{"expr":{"Atom":"txbuff"},"id":760}]},"id":758},{"expr":{"List":[{"expr":{"Atom":"index"},"id":762},{"expr":{"Atom":"target-index"},"id":763}]},"id":761}]},"id":756}]},"id":754}]},"id":747}]},"id":745}]},"id":707}},"read-next-witness":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:read-next-witness"},"name":"read-next-witness","arg_types":["BoolType",{"ResponseType":[{"TupleType":{"type_map":{"ctx":{"TupleType":{"type_map":{"index":"UIntType","txbuff":{"SequenceType":{"BufferType":4096}}}}},"witnesses":{"SequenceType":{"ListType":{"max_len":8,"entry_type":{"SequenceType":{"ListType":{"max_len":8,"entry_type":{"SequenceType":{"BufferType":128}}}}}}}}}}},"UIntType"]}],"define_type":"ReadOnly","arguments":["ignored","result"],"body":{"expr":{"List":[{"expr":{"Atom":"let"},"id":1338},{"expr":{"List":[{"expr":{"List":[{"expr":{"Atom":"state"},"id":1341},{"expr":{"List":[{"expr":{"Atom":"unwrap!"},"id":1343},{"expr":{"Atom":"result"},"id":1344},{"expr":{"Atom":"result"},"id":1345}]},"id":1342}]},"id":1340},{"expr":{"List":[{"expr":{"Atom":"parsed-num-items"},"id":1347},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":1349},{"expr":{"List":[{"expr":{"Atom":"read-varint"},"id":1351},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1353},{"expr":{"Atom":"ctx"},"id":1354},{"expr":{"Atom":"state"},"id":1355}]},"id":1352}]},"id":1350}]},"id":1348}]},"id":1346},{"expr":{"List":[{"expr":{"Atom":"ctx"},"id":1357},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1359},{"expr":{"Atom":"ctx"},"id":1360},{"expr":{"Atom":"parsed-num-items"},"id":1361}]},"id":1358}]},"id":1356},{"expr":{"List":[{"expr":{"Atom":"varint"},"id":1363},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1365},{"expr":{"Atom":"varint"},"id":1366},{"expr":{"Atom":"parsed-num-items"},"id":1367}]},"id":1364}]},"id":1362}]},"id":1339},{"expr":{"List":[{"expr":{"Atom":"if"},"id":1369},{"expr":{"List":[{"expr":{"Atom":">"},"id":1371},{"expr":{"Atom":"varint"},"id":1372},{"expr":{"LiteralValue":{"UInt":0}},"id":1373}]},"id":1370},{"expr":{"List":[{"expr":{"Atom":"let"},"id":1375},{"expr":{"List":[{"expr":{"List":[{"expr":{"Atom":"parsed-items"},"id":1378},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":1380},{"expr":{"List":[{"expr":{"Atom":"fold"},"id":1382},{"expr":{"Atom":"read-next-item"},"id":1383},{"expr":{"List":[{"expr":{"Atom":"bool-list-of-len"},"id":1385},{"expr":{"Atom":"varint"},"id":1386}]},"id":1384},{"expr":{"List":[{"expr":{"Atom":"ok"},"id":1388},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":1390},{"expr":{"List":[{"expr":{"Atom":"ctx"},"id":1392},{"expr":{"Atom":"ctx"},"id":1393}]},"id":1391},{"expr":{"List":[{"expr":{"Atom":"items"},"id":1395},{"expr":{"List":[{"expr":{"Atom":"list"},"id":1397}]},"id":1396}]},"id":1394}]},"id":1389}]},"id":1387}]},"id":1381}]},"id":1379}]},"id":1377}]},"id":1376},{"expr":{"List":[{"expr":{"Atom":"ok"},"id":1399},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":1401},{"expr":{"List":[{"expr":{"Atom":"witnesses"},"id":1403},{"expr":{"List":[{"expr":{"Atom":"unwrap-panic"},"id":1405},{"expr":{"List":[{"expr":{"Atom":"as-max-len?"},"id":1407},{"expr":{"List":[{"expr":{"Atom":"append"},"id":1409},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1411},{"expr":{"Atom":"witnesses"},"id":1412},{"expr":{"Atom":"state"},"id":1413}]},"id":1410},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1415},{"expr":{"Atom":"items"},"id":1416},{"expr":{"Atom":"parsed-items"},"id":1417}]},"id":1414}]},"id":1408},{"expr":{"LiteralValue":{"UInt":8}},"id":1418}]},"id":1406}]},"id":1404}]},"id":1402},{"expr":{"List":[{"expr":{"Atom":"ctx"},"id":1420},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1422},{"expr":{"Atom":"ctx"},"id":1423},{"expr":{"Atom":"parsed-items"},"id":1424}]},"id":1421}]},"id":1419}]},"id":1400}]},"id":1398}]},"id":1374},{"expr":{"List":[{"expr":{"Atom":"ok"},"id":1426},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":1428},{"expr":{"List":[{"expr":{"Atom":"witnesses"},"id":1430},{"expr":{"List":[{"expr":{"Atom":"unwrap-panic"},"id":1432},{"expr":{"List":[{"expr":{"Atom":"as-max-len?"},"id":1434},{"expr":{"List":[{"expr":{"Atom":"append"},"id":1436},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1438},{"expr":{"Atom":"witnesses"},"id":1439},{"expr":{"Atom":"state"},"id":1440}]},"id":1437},{"expr":{"List":[{"expr":{"Atom":"list"},"id":1442}]},"id":1441}]},"id":1435},{"expr":{"LiteralValue":{"UInt":8}},"id":1443}]},"id":1433}]},"id":1431}]},"id":1429},{"expr":{"List":[{"expr":{"Atom":"ctx"},"id":1445},{"expr":{"Atom":"ctx"},"id":1446}]},"id":1444}]},"id":1427}]},"id":1425}]},"id":1368}]},"id":1337}},"get-txid":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:get-txid"},"name":"get-txid","arg_types":[{"SequenceType":{"BufferType":4096}}],"define_type":"ReadOnly","arguments":["tx"],"body":{"expr":{"List":[{"expr":{"Atom":"reverse-buff32"},"id":2011},{"expr":{"List":[{"expr":{"Atom":"sha256"},"id":2013},{"expr":{"List":[{"expr":{"Atom":"sha256"},"id":2015},{"expr":{"Atom":"tx"},"id":2016}]},"id":2014}]},"id":2012}]},"id":2010}},"read-next-item":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:read-next-item"},"name":"read-next-item","arg_types":["BoolType",{"ResponseType":[{"TupleType":{"type_map":{"ctx":{"TupleType":{"type_map":{"index":"UIntType","txbuff":{"SequenceType":{"BufferType":4096}}}}},"items":{"SequenceType":{"ListType":{"max_len":8,"entry_type":{"SequenceType":{"BufferType":128}}}}}}}},"UIntType"]}],"define_type":"ReadOnly","arguments":["ignored","result"],"body":{"expr":{"List":[{"expr":{"Atom":"let"},"id":1241},{"expr":{"List":[{"expr":{"List":[{"expr":{"Atom":"state"},"id":1244},{"expr":{"List":[{"expr":{"Atom":"unwrap!"},"id":1246},{"expr":{"Atom":"result"},"id":1247},{"expr":{"Atom":"result"},"id":1248}]},"id":1245}]},"id":1243},{"expr":{"List":[{"expr":{"Atom":"parsed-item"},"id":1250},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":1252},{"expr":{"List":[{"expr":{"Atom":"read-varslice"},"id":1254},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1256},{"expr":{"Atom":"ctx"},"id":1257},{"expr":{"Atom":"state"},"id":1258}]},"id":1255}]},"id":1253}]},"id":1251}]},"id":1249},{"expr":{"List":[{"expr":{"Atom":"new-ctx"},"id":1260},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1262},{"expr":{"Atom":"ctx"},"id":1263},{"expr":{"Atom":"parsed-item"},"id":1264}]},"id":1261}]},"id":1259}]},"id":1242},{"expr":{"List":[{"expr":{"Atom":"ok"},"id":1266},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":1268},{"expr":{"List":[{"expr":{"Atom":"ctx"},"id":1270},{"expr":{"Atom":"new-ctx"},"id":1271}]},"id":1269},{"expr":{"List":[{"expr":{"Atom":"items"},"id":1273},{"expr":{"List":[{"expr":{"Atom":"unwrap!"},"id":1275},{"expr":{"List":[{"expr":{"Atom":"as-max-len?"},"id":1277},{"expr":{"List":[{"expr":{"Atom":"append"},"id":1279},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1281},{"expr":{"Atom":"items"},"id":1282},{"expr":{"Atom":"state"},"id":1283}]},"id":1280},{"expr":{"List":[{"expr":{"Atom":"unwrap!"},"id":1285},{"expr":{"List":[{"expr":{"Atom":"as-max-len?"},"id":1287},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1289},{"expr":{"Atom":"varslice"},"id":1290},{"expr":{"Atom":"parsed-item"},"id":1291}]},"id":1288},{"expr":{"LiteralValue":{"UInt":128}},"id":1292}]},"id":1286},{"expr":{"List":[{"expr":{"Atom":"err"},"id":1294},{"expr":{"Atom":"ERR-VARSLICE-TOO-LONG"},"id":1295}]},"id":1293}]},"id":1284}]},"id":1278},{"expr":{"LiteralValue":{"UInt":8}},"id":1296}]},"id":1276},{"expr":{"List":[{"expr":{"Atom":"err"},"id":1298},{"expr":{"Atom":"ERR-TOO-MANY-WITNESSES"},"id":1299}]},"id":1297}]},"id":1274}]},"id":1272}]},"id":1267}]},"id":1265}]},"id":1240}},"inner-get-commitment-scriptPubKey":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:inner-get-commitment-scriptPubKey"},"name":"inner-get-commitment-scriptPubKey","arg_types":[{"TupleType":{"type_map":{"scriptPubKey":{"SequenceType":{"BufferType":128}},"value":"UIntType"}}},{"SequenceType":{"BufferType":128}}],"define_type":"ReadOnly","arguments":["out","result"],"body":{"expr":{"List":[{"expr":{"Atom":"let"},"id":2335},{"expr":{"List":[{"expr":{"List":[{"expr":{"Atom":"commitment"},"id":2338},{"expr":{"List":[{"expr":{"Atom":"get"},"id":2340},{"expr":{"Atom":"scriptPubKey"},"id":2341},{"expr":{"Atom":"out"},"id":2342}]},"id":2339}]},"id":2337}]},"id":2336},{"expr":{"List":[{"expr":{"Atom":"if"},"id":2344},{"expr":{"List":[{"expr":{"Atom":"is-commitment-pattern"},"id":2346},{"expr":{"Atom":"commitment"},"id":2347}]},"id":2345},{"expr":{"Atom":"commitment"},"id":2348},{"expr":{"Atom":"result"},"id":2349}]},"id":2343}]},"id":2334}},"read-uint16":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:read-uint16"},"name":"read-uint16","arg_types":[{"TupleType":{"type_map":{"index":"UIntType","txbuff":{"SequenceType":{"BufferType":4096}}}}}],"define_type":"ReadOnly","arguments":["ctx"],"body":{"expr":{"List":[{"expr":{"Atom":"let"},"id":163},{"expr":{"List":[{"expr":{"List":[{"expr":{"Atom":"data"},"id":166},{"expr":{"List":[{"expr":{"Atom":"get"},"id":168},{"expr":{"Atom":"txbuff"},"id":169},{"expr":{"Atom":"ctx"},"id":170}]},"id":167}]},"id":165},{"expr":{"List":[{"expr":{"Atom":"base"},"id":172},{"expr":{"List":[{"expr":{"Atom":"get"},"id":174},{"expr":{"Atom":"index"},"id":175},{"expr":{"Atom":"ctx"},"id":176}]},"id":173}]},"id":171}]},"id":164},{"expr":{"List":[{"expr":{"Atom":"ok"},"id":178},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":180},{"expr":{"List":[{"expr":{"Atom":"uint16"},"id":182},{"expr":{"List":[{"expr":{"Atom":"buff-to-uint-le"},"id":184},{"expr":{"List":[{"expr":{"Atom":"unwrap-panic"},"id":186},{"expr":{"List":[{"expr":{"Atom":"as-max-len?"},"id":188},{"expr":{"List":[{"expr":{"Atom":"unwrap!"},"id":190},{"expr":{"List":[{"expr":{"Atom":"slice?"},"id":192},{"expr":{"Atom":"data"},"id":193},{"expr":{"Atom":"base"},"id":194},{"expr":{"List":[{"expr":{"Atom":"+"},"id":196},{"expr":{"Atom":"base"},"id":197},{"expr":{"LiteralValue":{"UInt":2}},"id":198}]},"id":195}]},"id":191},{"expr":{"List":[{"expr":{"Atom":"err"},"id":200},{"expr":{"Atom":"ERR-OUT-OF-BOUNDS"},"id":201}]},"id":199}]},"id":189},{"expr":{"LiteralValue":{"UInt":2}},"id":202}]},"id":187}]},"id":185}]},"id":183}]},"id":181},{"expr":{"List":[{"expr":{"Atom":"ctx"},"id":204},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":206},{"expr":{"List":[{"expr":{"Atom":"txbuff"},"id":208},{"expr":{"Atom":"data"},"id":209}]},"id":207},{"expr":{"List":[{"expr":{"Atom":"index"},"id":211},{"expr":{"List":[{"expr":{"Atom":"+"},"id":213},{"expr":{"LiteralValue":{"UInt":2}},"id":214},{"expr":{"Atom":"base"},"id":215}]},"id":212}]},"id":210}]},"id":205}]},"id":203}]},"id":179}]},"id":177}]},"id":162}},"get-reversed-txid":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:get-reversed-txid"},"name":"get-reversed-txid","arg_types":[{"SequenceType":{"BufferType":4096}}],"define_type":"ReadOnly","arguments":["tx"],"body":{"expr":{"List":[{"expr":{"Atom":"sha256"},"id":1997},{"expr":{"List":[{"expr":{"Atom":"sha256"},"id":1999},{"expr":{"Atom":"tx"},"id":2000}]},"id":1998}]},"id":1996}},"was-tx-mined-internal":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:was-tx-mined-internal"},"name":"was-tx-mined-internal","arg_types":["UIntType",{"SequenceType":{"BufferType":4096}},{"SequenceType":{"BufferType":80}},{"SequenceType":{"BufferType":32}},{"TupleType":{"type_map":{"hashes":{"SequenceType":{"ListType":{"max_len":14,"entry_type":{"SequenceType":{"BufferType":32}}}}},"tree-depth":"UIntType","tx-index":"UIntType"}}}],"define_type":"Private","arguments":["height","tx","header","merkle-root","proof"],"body":{"expr":{"List":[{"expr":{"Atom":"if"},"id":2415},{"expr":{"List":[{"expr":{"Atom":"verify-block-header"},"id":2417},{"expr":{"Atom":"header"},"id":2418},{"expr":{"Atom":"height"},"id":2419}]},"id":2416},{"expr":{"List":[{"expr":{"Atom":"let"},"id":2421},{"expr":{"List":[{"expr":{"List":[{"expr":{"Atom":"reversed-txid"},"id":2424},{"expr":{"List":[{"expr":{"Atom":"get-reversed-txid"},"id":2426},{"expr":{"Atom":"tx"},"id":2427}]},"id":2425}]},"id":2423},{"expr":{"List":[{"expr":{"Atom":"txid"},"id":2429},{"expr":{"List":[{"expr":{"Atom":"reverse-buff32"},"id":2431},{"expr":{"Atom":"reversed-txid"},"id":2432}]},"id":2430}]},"id":2428}]},"id":2422},{"expr":{"List":[{"expr":{"Atom":"asserts!"},"id":2434},{"expr":{"List":[{"expr":{"Atom":"or"},"id":2436},{"expr":{"List":[{"expr":{"Atom":"is-eq"},"id":2438},{"expr":{"Atom":"merkle-root"},"id":2439},{"expr":{"Atom":"txid"},"id":2440}]},"id":2437},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":2442},{"expr":{"List":[{"expr":{"Atom":"verify-merkle-proof"},"id":2444},{"expr":{"Atom":"reversed-txid"},"id":2445},{"expr":{"List":[{"expr":{"Atom":"reverse-buff32"},"id":2447},{"expr":{"Atom":"merkle-root"},"id":2448}]},"id":2446},{"expr":{"Atom":"proof"},"id":2449}]},"id":2443}]},"id":2441}]},"id":2435},{"expr":{"List":[{"expr":{"Atom":"err"},"id":2451},{"expr":{"Atom":"ERR-INVALID-MERKLE-PROOF"},"id":2452}]},"id":2450}]},"id":2433},{"expr":{"List":[{"expr":{"Atom":"ok"},"id":2454},{"expr":{"Atom":"txid"},"id":2455}]},"id":2453}]},"id":2420},{"expr":{"List":[{"expr":{"Atom":"err"},"id":2457},{"expr":{"Atom":"ERR-HEADER-HEIGHT-MISMATCH"},"id":2458}]},"id":2456}]},"id":2414}},"was-segwit-tx-mined-compact":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:was-segwit-tx-mined-compact"},"name":"was-segwit-tx-mined-compact","arg_types":["UIntType",{"SequenceType":{"BufferType":4096}},{"SequenceType":{"BufferType":80}},"UIntType","UIntType",{"SequenceType":{"ListType":{"max_len":14,"entry_type":{"SequenceType":{"BufferType":32}}}}},{"SequenceType":{"BufferType":32}},{"SequenceType":{"BufferType":32}},{"SequenceType":{"BufferType":1024}},{"SequenceType":{"ListType":{"max_len":14,"entry_type":{"SequenceType":{"BufferType":32}}}}}],"define_type":"ReadOnly","arguments":["height","wtx","header","tx-index","tree-depth","wproof","witness-merkle-root","witness-reserved-value","ctx","cproof"],"body":{"expr":{"List":[{"expr":{"Atom":"begin"},"id":2572},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":2574},{"expr":{"List":[{"expr":{"Atom":"was-tx-mined-compact"},"id":2576},{"expr":{"Atom":"height"},"id":2577},{"expr":{"Atom":"ctx"},"id":2578},{"expr":{"Atom":"header"},"id":2579},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":2581},{"expr":{"List":[{"expr":{"Atom":"tx-index"},"id":2583},{"expr":{"LiteralValue":{"UInt":0}},"id":2584}]},"id":2582},{"expr":{"List":[{"expr":{"Atom":"hashes"},"id":2586},{"expr":{"Atom":"cproof"},"id":2587}]},"id":2585},{"expr":{"List":[{"expr":{"Atom":"tree-depth"},"id":2589},{"expr":{"Atom":"tree-depth"},"id":2590}]},"id":2588}]},"id":2580}]},"id":2575}]},"id":2573},{"expr":{"List":[{"expr":{"Atom":"let"},"id":2592},{"expr":{"List":[{"expr":{"List":[{"expr":{"Atom":"witness-out"},"id":2595},{"expr":{"List":[{"expr":{"Atom":"get-commitment-scriptPubKey"},"id":2597},{"expr":{"List":[{"expr":{"Atom":"get"},"id":2599},{"expr":{"Atom":"outs"},"id":2600},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":2602},{"expr":{"List":[{"expr":{"Atom":"parse-tx"},"id":2604},{"expr":{"Atom":"ctx"},"id":2605}]},"id":2603}]},"id":2601}]},"id":2598}]},"id":2596}]},"id":2594},{"expr":{"List":[{"expr":{"Atom":"final-hash"},"id":2607},{"expr":{"List":[{"expr":{"Atom":"sha256"},"id":2609},{"expr":{"List":[{"expr":{"Atom":"sha256"},"id":2611},{"expr":{"List":[{"expr":{"Atom":"concat"},"id":2613},{"expr":{"Atom":"witness-merkle-root"},"id":2614},{"expr":{"Atom":"witness-reserved-value"},"id":2615}]},"id":2612}]},"id":2610}]},"id":2608}]},"id":2606},{"expr":{"List":[{"expr":{"Atom":"reversed-wtxid"},"id":2617},{"expr":{"List":[{"expr":{"Atom":"get-reversed-txid"},"id":2619},{"expr":{"Atom":"wtx"},"id":2620}]},"id":2618}]},"id":2616},{"expr":{"List":[{"expr":{"Atom":"wtxid"},"id":2622},{"expr":{"List":[{"expr":{"Atom":"reverse-buff32"},"id":2624},{"expr":{"Atom":"reversed-wtxid"},"id":2625}]},"id":2623}]},"id":2621}]},"id":2593},{"expr":{"List":[{"expr":{"Atom":"asserts!"},"id":2627},{"expr":{"List":[{"expr":{"Atom":"is-eq"},"id":2629},{"expr":{"Atom":"witness-out"},"id":2630},{"expr":{"List":[{"expr":{"Atom":"concat"},"id":2632},{"expr":{"LiteralValue":{"Sequence":{"Buffer":{"data":[106,36,170,33,169,237]}}}},"id":2633},{"expr":{"Atom":"final-hash"},"id":2634}]},"id":2631}]},"id":2628},{"expr":{"List":[{"expr":{"Atom":"err"},"id":2636},{"expr":{"Atom":"ERR-INVALID-COMMITMENT"},"id":2637}]},"id":2635}]},"id":2626},{"expr":{"List":[{"expr":{"Atom":"asserts!"},"id":2639},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":2641},{"expr":{"List":[{"expr":{"Atom":"verify-merkle-proof"},"id":2643},{"expr":{"Atom":"reversed-wtxid"},"id":2644},{"expr":{"Atom":"witness-merkle-root"},"id":2645},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":2647},{"expr":{"List":[{"expr":{"Atom":"tx-index"},"id":2649},{"expr":{"Atom":"tx-index"},"id":2650}]},"id":2648},{"expr":{"List":[{"expr":{"Atom":"hashes"},"id":2652},{"expr":{"Atom":"wproof"},"id":2653}]},"id":2651},{"expr":{"List":[{"expr":{"Atom":"tree-depth"},"id":2655},{"expr":{"Atom":"tree-depth"},"id":2656}]},"id":2654}]},"id":2646}]},"id":2642}]},"id":2640},{"expr":{"List":[{"expr":{"Atom":"err"},"id":2658},{"expr":{"Atom":"ERR-WITNESS-TX-NOT-IN-COMMITMENT"},"id":2659}]},"id":2657}]},"id":2638},{"expr":{"List":[{"expr":{"Atom":"ok"},"id":2661},{"expr":{"Atom":"wtxid"},"id":2662}]},"id":2660}]},"id":2591}]},"id":2571}},"read-txouts":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:read-txouts"},"name":"read-txouts","arg_types":[{"TupleType":{"type_map":{"index":"UIntType","txbuff":{"SequenceType":{"BufferType":4096}}}}}],"define_type":"ReadOnly","arguments":["ctx"],"body":{"expr":{"List":[{"expr":{"Atom":"let"},"id":1159},{"expr":{"List":[{"expr":{"List":[{"expr":{"Atom":"parsed-num-txouts"},"id":1162},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":1164},{"expr":{"List":[{"expr":{"Atom":"read-varint"},"id":1166},{"expr":{"Atom":"ctx"},"id":1167}]},"id":1165}]},"id":1163}]},"id":1161},{"expr":{"List":[{"expr":{"Atom":"num-txouts"},"id":1169},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1171},{"expr":{"Atom":"varint"},"id":1172},{"expr":{"Atom":"parsed-num-txouts"},"id":1173}]},"id":1170}]},"id":1168},{"expr":{"List":[{"expr":{"Atom":"new-ctx"},"id":1175},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1177},{"expr":{"Atom":"ctx"},"id":1178},{"expr":{"Atom":"parsed-num-txouts"},"id":1179}]},"id":1176}]},"id":1174}]},"id":1160},{"expr":{"List":[{"expr":{"Atom":"if"},"id":1181},{"expr":{"List":[{"expr":{"Atom":">"},"id":1183},{"expr":{"Atom":"num-txouts"},"id":1184},{"expr":{"LiteralValue":{"UInt":8}},"id":1185}]},"id":1182},{"expr":{"List":[{"expr":{"Atom":"err"},"id":1187},{"expr":{"Atom":"ERR-TOO-MANY-TXOUTS"},"id":1188}]},"id":1186},{"expr":{"List":[{"expr":{"Atom":"fold"},"id":1190},{"expr":{"Atom":"read-next-txout"},"id":1191},{"expr":{"List":[{"expr":{"Atom":"bool-list-of-len"},"id":1193},{"expr":{"Atom":"num-txouts"},"id":1194}]},"id":1192},{"expr":{"List":[{"expr":{"Atom":"ok"},"id":1196},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":1198},{"expr":{"List":[{"expr":{"Atom":"ctx"},"id":1200},{"expr":{"Atom":"new-ctx"},"id":1201}]},"id":1199},{"expr":{"List":[{"expr":{"Atom":"txouts"},"id":1203},{"expr":{"List":[{"expr":{"Atom":"list"},"id":1205}]},"id":1204}]},"id":1202}]},"id":1197}]},"id":1195}]},"id":1189}]},"id":1180}]},"id":1158}},"reverse-buff32":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:reverse-buff32"},"name":"reverse-buff32","arg_types":[{"SequenceType":{"BufferType":32}}],"define_type":"ReadOnly","arguments":["input"],"body":{"expr":{"List":[{"expr":{"Atom":"unwrap-panic"},"id":657},{"expr":{"List":[{"expr":{"Atom":"as-max-len?"},"id":659},{"expr":{"List":[{"expr":{"Atom":"concat"},"id":661},{"expr":{"List":[{"expr":{"Atom":"reverse-buff16"},"id":663},{"expr":{"List":[{"expr":{"Atom":"unwrap-panic"},"id":665},{"expr":{"List":[{"expr":{"Atom":"as-max-len?"},"id":667},{"expr":{"List":[{"expr":{"Atom":"unwrap-panic"},"id":669},{"expr":{"List":[{"expr":{"Atom":"slice?"},"id":671},{"expr":{"Atom":"input"},"id":672},{"expr":{"LiteralValue":{"UInt":16}},"id":673},{"expr":{"LiteralValue":{"UInt":32}},"id":674}]},"id":670}]},"id":668},{"expr":{"LiteralValue":{"UInt":16}},"id":675}]},"id":666}]},"id":664}]},"id":662},{"expr":{"List":[{"expr":{"Atom":"reverse-buff16"},"id":677},{"expr":{"List":[{"expr":{"Atom":"unwrap-panic"},"id":679},{"expr":{"List":[{"expr":{"Atom":"as-max-len?"},"id":681},{"expr":{"List":[{"expr":{"Atom":"unwrap-panic"},"id":683},{"expr":{"List":[{"expr":{"Atom":"slice?"},"id":685},{"expr":{"Atom":"input"},"id":686},{"expr":{"LiteralValue":{"UInt":0}},"id":687},{"expr":{"LiteralValue":{"UInt":16}},"id":688}]},"id":684}]},"id":682},{"expr":{"LiteralValue":{"UInt":16}},"id":689}]},"id":680}]},"id":678}]},"id":676}]},"id":660},{"expr":{"LiteralValue":{"UInt":32}},"id":690}]},"id":658}]},"id":656}},"get-bc-h-hash":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:get-bc-h-hash"},"name":"get-bc-h-hash","arg_types":["UIntType"],"define_type":"ReadOnly","arguments":["bh"],"body":{"expr":{"List":[{"expr":{"Atom":"get-burn-block-info?"},"id":1955},{"expr":{"Atom":"header-hash"},"id":1956},{"expr":{"Atom":"bh"},"id":1957}]},"id":1954}},"read-witnesses":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:read-witnesses"},"name":"read-witnesses","arg_types":[{"TupleType":{"type_map":{"index":"UIntType","txbuff":{"SequenceType":{"BufferType":4096}}}}},"UIntType"],"define_type":"ReadOnly","arguments":["ctx","num-txins"],"body":{"expr":{"List":[{"expr":{"Atom":"fold"},"id":1467},{"expr":{"Atom":"read-next-witness"},"id":1468},{"expr":{"List":[{"expr":{"Atom":"bool-list-of-len"},"id":1470},{"expr":{"Atom":"num-txins"},"id":1471}]},"id":1469},{"expr":{"List":[{"expr":{"Atom":"ok"},"id":1473},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":1475},{"expr":{"List":[{"expr":{"Atom":"ctx"},"id":1477},{"expr":{"Atom":"ctx"},"id":1478}]},"id":1476},{"expr":{"List":[{"expr":{"Atom":"witnesses"},"id":1480},{"expr":{"List":[{"expr":{"Atom":"list"},"id":1482}]},"id":1481}]},"id":1479}]},"id":1474}]},"id":1472}]},"id":1466}},"read-varint":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:read-varint"},"name":"read-varint","arg_types":[{"TupleType":{"type_map":{"index":"UIntType","txbuff":{"SequenceType":{"BufferType":4096}}}}}],"define_type":"ReadOnly","arguments":["ctx"],"body":{"expr":{"List":[{"expr":{"Atom":"let"},"id":373},{"expr":{"List":[{"expr":{"List":[{"expr":{"Atom":"ptr"},"id":376},{"expr":{"List":[{"expr":{"Atom":"get"},"id":378},{"expr":{"Atom":"index"},"id":379},{"expr":{"Atom":"ctx"},"id":380}]},"id":377}]},"id":375},{"expr":{"List":[{"expr":{"Atom":"tx"},"id":382},{"expr":{"List":[{"expr":{"Atom":"get"},"id":384},{"expr":{"Atom":"txbuff"},"id":385},{"expr":{"Atom":"ctx"},"id":386}]},"id":383}]},"id":381},{"expr":{"List":[{"expr":{"Atom":"byte"},"id":388},{"expr":{"List":[{"expr":{"Atom":"buff-to-uint-le"},"id":390},{"expr":{"List":[{"expr":{"Atom":"unwrap!"},"id":392},{"expr":{"List":[{"expr":{"Atom":"element-at"},"id":394},{"expr":{"Atom":"tx"},"id":395},{"expr":{"Atom":"ptr"},"id":396}]},"id":393},{"expr":{"List":[{"expr":{"Atom":"err"},"id":398},{"expr":{"Atom":"ERR-OUT-OF-BOUNDS"},"id":399}]},"id":397}]},"id":391}]},"id":389}]},"id":387}]},"id":374},{"expr":{"List":[{"expr":{"Atom":"if"},"id":401},{"expr":{"List":[{"expr":{"Atom":"<="},"id":403},{"expr":{"Atom":"byte"},"id":404},{"expr":{"LiteralValue":{"UInt":252}},"id":405}]},"id":402},{"expr":{"List":[{"expr":{"Atom":"ok"},"id":407},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":409},{"expr":{"List":[{"expr":{"Atom":"varint"},"id":411},{"expr":{"Atom":"byte"},"id":412}]},"id":410},{"expr":{"List":[{"expr":{"Atom":"ctx"},"id":414},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":416},{"expr":{"List":[{"expr":{"Atom":"txbuff"},"id":418},{"expr":{"Atom":"tx"},"id":419}]},"id":417},{"expr":{"List":[{"expr":{"Atom":"index"},"id":421},{"expr":{"List":[{"expr":{"Atom":"+"},"id":423},{"expr":{"LiteralValue":{"UInt":1}},"id":424},{"expr":{"Atom":"ptr"},"id":425}]},"id":422}]},"id":420}]},"id":415}]},"id":413}]},"id":408}]},"id":406},{"expr":{"List":[{"expr":{"Atom":"if"},"id":427},{"expr":{"List":[{"expr":{"Atom":"is-eq"},"id":429},{"expr":{"Atom":"byte"},"id":430},{"expr":{"LiteralValue":{"UInt":253}},"id":431}]},"id":428},{"expr":{"List":[{"expr":{"Atom":"let"},"id":433},{"expr":{"List":[{"expr":{"List":[{"expr":{"Atom":"parsed-u16"},"id":436},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":438},{"expr":{"List":[{"expr":{"Atom":"read-uint16"},"id":440},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":442},{"expr":{"List":[{"expr":{"Atom":"txbuff"},"id":444},{"expr":{"Atom":"tx"},"id":445}]},"id":443},{"expr":{"List":[{"expr":{"Atom":"index"},"id":447},{"expr":{"List":[{"expr":{"Atom":"+"},"id":449},{"expr":{"LiteralValue":{"UInt":1}},"id":450},{"expr":{"Atom":"ptr"},"id":451}]},"id":448}]},"id":446}]},"id":441}]},"id":439}]},"id":437}]},"id":435}]},"id":434},{"expr":{"List":[{"expr":{"Atom":"ok"},"id":453},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":455},{"expr":{"List":[{"expr":{"Atom":"varint"},"id":457},{"expr":{"List":[{"expr":{"Atom":"get"},"id":459},{"expr":{"Atom":"uint16"},"id":460},{"expr":{"Atom":"parsed-u16"},"id":461}]},"id":458}]},"id":456},{"expr":{"List":[{"expr":{"Atom":"ctx"},"id":463},{"expr":{"List":[{"expr":{"Atom":"get"},"id":465},{"expr":{"Atom":"ctx"},"id":466},{"expr":{"Atom":"parsed-u16"},"id":467}]},"id":464}]},"id":462}]},"id":454}]},"id":452}]},"id":432},{"expr":{"List":[{"expr":{"Atom":"if"},"id":469},{"expr":{"List":[{"expr":{"Atom":"is-eq"},"id":471},{"expr":{"Atom":"byte"},"id":472},{"expr":{"LiteralValue":{"UInt":254}},"id":473}]},"id":470},{"expr":{"List":[{"expr":{"Atom":"let"},"id":475},{"expr":{"List":[{"expr":{"List":[{"expr":{"Atom":"parsed-u32"},"id":478},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":480},{"expr":{"List":[{"expr":{"Atom":"read-uint32"},"id":482},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":484},{"expr":{"List":[{"expr":{"Atom":"txbuff"},"id":486},{"expr":{"Atom":"tx"},"id":487}]},"id":485},{"expr":{"List":[{"expr":{"Atom":"index"},"id":489},{"expr":{"List":[{"expr":{"Atom":"+"},"id":491},{"expr":{"LiteralValue":{"UInt":1}},"id":492},{"expr":{"Atom":"ptr"},"id":493}]},"id":490}]},"id":488}]},"id":483}]},"id":481}]},"id":479}]},"id":477}]},"id":476},{"expr":{"List":[{"expr":{"Atom":"ok"},"id":495},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":497},{"expr":{"List":[{"expr":{"Atom":"varint"},"id":499},{"expr":{"List":[{"expr":{"Atom":"get"},"id":501},{"expr":{"Atom":"uint32"},"id":502},{"expr":{"Atom":"parsed-u32"},"id":503}]},"id":500}]},"id":498},{"expr":{"List":[{"expr":{"Atom":"ctx"},"id":505},{"expr":{"List":[{"expr":{"Atom":"get"},"id":507},{"expr":{"Atom":"ctx"},"id":508},{"expr":{"Atom":"parsed-u32"},"id":509}]},"id":506}]},"id":504}]},"id":496}]},"id":494}]},"id":474},{"expr":{"List":[{"expr":{"Atom":"let"},"id":511},{"expr":{"List":[{"expr":{"List":[{"expr":{"Atom":"parsed-u64"},"id":514},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":516},{"expr":{"List":[{"expr":{"Atom":"read-uint64"},"id":518},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":520},{"expr":{"List":[{"expr":{"Atom":"txbuff"},"id":522},{"expr":{"Atom":"tx"},"id":523}]},"id":521},{"expr":{"List":[{"expr":{"Atom":"index"},"id":525},{"expr":{"List":[{"expr":{"Atom":"+"},"id":527},{"expr":{"LiteralValue":{"UInt":1}},"id":528},{"expr":{"Atom":"ptr"},"id":529}]},"id":526}]},"id":524}]},"id":519}]},"id":517}]},"id":515}]},"id":513}]},"id":512},{"expr":{"List":[{"expr":{"Atom":"ok"},"id":531},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":533},{"expr":{"List":[{"expr":{"Atom":"varint"},"id":535},{"expr":{"List":[{"expr":{"Atom":"get"},"id":537},{"expr":{"Atom":"uint64"},"id":538},{"expr":{"Atom":"parsed-u64"},"id":539}]},"id":536}]},"id":534},{"expr":{"List":[{"expr":{"Atom":"ctx"},"id":541},{"expr":{"List":[{"expr":{"Atom":"get"},"id":543},{"expr":{"Atom":"ctx"},"id":544},{"expr":{"Atom":"parsed-u64"},"id":545}]},"id":542}]},"id":540}]},"id":532}]},"id":530}]},"id":510}]},"id":468}]},"id":426}]},"id":400}]},"id":372}},"inner-merkle-proof-verify":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:inner-merkle-proof-verify"},"name":"inner-merkle-proof-verify","arg_types":["UIntType",{"TupleType":{"type_map":{"cur-hash":{"SequenceType":{"BufferType":32}},"path":"UIntType","proof-hashes":{"SequenceType":{"ListType":{"max_len":14,"entry_type":{"SequenceType":{"BufferType":32}}}}},"root-hash":{"SequenceType":{"BufferType":32}},"tree-depth":"UIntType","verified":"BoolType"}}}],"define_type":"Private","arguments":["ctr","state"],"body":{"expr":{"List":[{"expr":{"Atom":"let"},"id":2076},{"expr":{"List":[{"expr":{"List":[{"expr":{"Atom":"path"},"id":2079},{"expr":{"List":[{"expr":{"Atom":"get"},"id":2081},{"expr":{"Atom":"path"},"id":2082},{"expr":{"Atom":"state"},"id":2083}]},"id":2080}]},"id":2078},{"expr":{"List":[{"expr":{"Atom":"is-left"},"id":2085},{"expr":{"List":[{"expr":{"Atom":"is-bit-set"},"id":2087},{"expr":{"Atom":"path"},"id":2088},{"expr":{"Atom":"ctr"},"id":2089}]},"id":2086}]},"id":2084},{"expr":{"List":[{"expr":{"Atom":"proof-hashes"},"id":2091},{"expr":{"List":[{"expr":{"Atom":"get"},"id":2093},{"expr":{"Atom":"proof-hashes"},"id":2094},{"expr":{"Atom":"state"},"id":2095}]},"id":2092}]},"id":2090},{"expr":{"List":[{"expr":{"Atom":"cur-hash"},"id":2097},{"expr":{"List":[{"expr":{"Atom":"get"},"id":2099},{"expr":{"Atom":"cur-hash"},"id":2100},{"expr":{"Atom":"state"},"id":2101}]},"id":2098}]},"id":2096},{"expr":{"List":[{"expr":{"Atom":"root-hash"},"id":2103},{"expr":{"List":[{"expr":{"Atom":"get"},"id":2105},{"expr":{"Atom":"root-hash"},"id":2106},{"expr":{"Atom":"state"},"id":2107}]},"id":2104}]},"id":2102},{"expr":{"List":[{"expr":{"Atom":"h1"},"id":2109},{"expr":{"List":[{"expr":{"Atom":"if"},"id":2111},{"expr":{"Atom":"is-left"},"id":2112},{"expr":{"List":[{"expr":{"Atom":"unwrap-panic"},"id":2114},{"expr":{"List":[{"expr":{"Atom":"element-at"},"id":2116},{"expr":{"Atom":"proof-hashes"},"id":2117},{"expr":{"Atom":"ctr"},"id":2118}]},"id":2115}]},"id":2113},{"expr":{"Atom":"cur-hash"},"id":2119}]},"id":2110}]},"id":2108},{"expr":{"List":[{"expr":{"Atom":"h2"},"id":2121},{"expr":{"List":[{"expr":{"Atom":"if"},"id":2123},{"expr":{"Atom":"is-left"},"id":2124},{"expr":{"Atom":"cur-hash"},"id":2125},{"expr":{"List":[{"expr":{"Atom":"unwrap-panic"},"id":2127},{"expr":{"List":[{"expr":{"Atom":"element-at"},"id":2129},{"expr":{"Atom":"proof-hashes"},"id":2130},{"expr":{"Atom":"ctr"},"id":2131}]},"id":2128}]},"id":2126}]},"id":2122}]},"id":2120},{"expr":{"List":[{"expr":{"Atom":"next-hash"},"id":2133},{"expr":{"List":[{"expr":{"Atom":"sha256"},"id":2135},{"expr":{"List":[{"expr":{"Atom":"sha256"},"id":2137},{"expr":{"List":[{"expr":{"Atom":"concat"},"id":2139},{"expr":{"Atom":"h1"},"id":2140},{"expr":{"Atom":"h2"},"id":2141}]},"id":2138}]},"id":2136}]},"id":2134}]},"id":2132},{"expr":{"List":[{"expr":{"Atom":"is-verified"},"id":2143},{"expr":{"List":[{"expr":{"Atom":"and"},"id":2145},{"expr":{"List":[{"expr":{"Atom":"is-eq"},"id":2147},{"expr":{"List":[{"expr":{"Atom":"+"},"id":2149},{"expr":{"LiteralValue":{"UInt":1}},"id":2150},{"expr":{"Atom":"ctr"},"id":2151}]},"id":2148},{"expr":{"List":[{"expr":{"Atom":"len"},"id":2153},{"expr":{"Atom":"proof-hashes"},"id":2154}]},"id":2152}]},"id":2146},{"expr":{"List":[{"expr":{"Atom":"is-eq"},"id":2156},{"expr":{"Atom":"next-hash"},"id":2157},{"expr":{"Atom":"root-hash"},"id":2158}]},"id":2155}]},"id":2144}]},"id":2142}]},"id":2077},{"expr":{"List":[{"expr":{"Atom":"merge"},"id":2160},{"expr":{"Atom":"state"},"id":2161},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":2163},{"expr":{"List":[{"expr":{"Atom":"cur-hash"},"id":2165},{"expr":{"Atom":"next-hash"},"id":2166}]},"id":2164},{"expr":{"List":[{"expr":{"Atom":"verified"},"id":2168},{"expr":{"Atom":"is-verified"},"id":2169}]},"id":2167}]},"id":2162}]},"id":2159}]},"id":2075}},"read-uint8":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:read-uint8"},"name":"read-uint8","arg_types":[{"TupleType":{"type_map":{"index":"UIntType","txbuff":{"SequenceType":{"BufferType":4096}}}}}],"define_type":"ReadOnly","arguments":["ctx"],"body":{"expr":{"List":[{"expr":{"Atom":"let"},"id":93},{"expr":{"List":[{"expr":{"List":[{"expr":{"Atom":"data"},"id":96},{"expr":{"List":[{"expr":{"Atom":"get"},"id":98},{"expr":{"Atom":"txbuff"},"id":99},{"expr":{"Atom":"ctx"},"id":100}]},"id":97}]},"id":95},{"expr":{"List":[{"expr":{"Atom":"base"},"id":102},{"expr":{"List":[{"expr":{"Atom":"get"},"id":104},{"expr":{"Atom":"index"},"id":105},{"expr":{"Atom":"ctx"},"id":106}]},"id":103}]},"id":101}]},"id":94},{"expr":{"List":[{"expr":{"Atom":"ok"},"id":108},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":110},{"expr":{"List":[{"expr":{"Atom":"uint8"},"id":112},{"expr":{"List":[{"expr":{"Atom":"buff-to-uint-le"},"id":114},{"expr":{"List":[{"expr":{"Atom":"unwrap-panic"},"id":116},{"expr":{"List":[{"expr":{"Atom":"as-max-len?"},"id":118},{"expr":{"List":[{"expr":{"Atom":"unwrap!"},"id":120},{"expr":{"List":[{"expr":{"Atom":"slice?"},"id":122},{"expr":{"Atom":"data"},"id":123},{"expr":{"Atom":"base"},"id":124},{"expr":{"List":[{"expr":{"Atom":"+"},"id":126},{"expr":{"Atom":"base"},"id":127},{"expr":{"LiteralValue":{"UInt":1}},"id":128}]},"id":125}]},"id":121},{"expr":{"List":[{"expr":{"Atom":"err"},"id":130},{"expr":{"Atom":"ERR-OUT-OF-BOUNDS"},"id":131}]},"id":129}]},"id":119},{"expr":{"LiteralValue":{"UInt":1}},"id":132}]},"id":117}]},"id":115}]},"id":113}]},"id":111},{"expr":{"List":[{"expr":{"Atom":"ctx"},"id":134},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":136},{"expr":{"List":[{"expr":{"Atom":"txbuff"},"id":138},{"expr":{"Atom":"data"},"id":139}]},"id":137},{"expr":{"List":[{"expr":{"Atom":"index"},"id":141},{"expr":{"List":[{"expr":{"Atom":"+"},"id":143},{"expr":{"LiteralValue":{"UInt":1}},"id":144},{"expr":{"Atom":"base"},"id":145}]},"id":142}]},"id":140}]},"id":135}]},"id":133}]},"id":109}]},"id":107}]},"id":92}},"bool-list-of-len":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:bool-list-of-len"},"name":"bool-list-of-len","arg_types":["UIntType"],"define_type":"Private","arguments":["n"],"body":{"expr":{"List":[{"expr":{"Atom":"unwrap-panic"},"id":61},{"expr":{"List":[{"expr":{"Atom":"slice?"},"id":63},{"expr":{"List":[{"expr":{"Atom":"list"},"id":65},{"expr":{"Atom":"true"},"id":66},{"expr":{"Atom":"true"},"id":67},{"expr":{"Atom":"true"},"id":68},{"expr":{"Atom":"true"},"id":69},{"expr":{"Atom":"true"},"id":70},{"expr":{"Atom":"true"},"id":71},{"expr":{"Atom":"true"},"id":72},{"expr":{"Atom":"true"},"id":73}]},"id":64},{"expr":{"LiteralValue":{"UInt":0}},"id":74},{"expr":{"Atom":"n"},"id":75}]},"id":62}]},"id":60}},"parse-wtx":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:parse-wtx"},"name":"parse-wtx","arg_types":[{"SequenceType":{"BufferType":4096}},"BoolType"],"define_type":"ReadOnly","arguments":["tx","calculate-txid"],"body":{"expr":{"List":[{"expr":{"Atom":"let"},"id":1496},{"expr":{"List":[{"expr":{"List":[{"expr":{"Atom":"ctx"},"id":1499},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":1501},{"expr":{"List":[{"expr":{"Atom":"txbuff"},"id":1503},{"expr":{"Atom":"tx"},"id":1504}]},"id":1502},{"expr":{"List":[{"expr":{"Atom":"index"},"id":1506},{"expr":{"LiteralValue":{"UInt":0}},"id":1507}]},"id":1505}]},"id":1500}]},"id":1498},{"expr":{"List":[{"expr":{"Atom":"parsed-version"},"id":1509},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":1511},{"expr":{"List":[{"expr":{"Atom":"read-uint32"},"id":1513},{"expr":{"Atom":"ctx"},"id":1514}]},"id":1512}]},"id":1510}]},"id":1508},{"expr":{"List":[{"expr":{"Atom":"parsed-segwit-marker"},"id":1516},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":1518},{"expr":{"List":[{"expr":{"Atom":"read-uint8"},"id":1520},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1522},{"expr":{"Atom":"ctx"},"id":1523},{"expr":{"Atom":"parsed-version"},"id":1524}]},"id":1521}]},"id":1519}]},"id":1517}]},"id":1515},{"expr":{"List":[{"expr":{"Atom":"parsed-segwit-version"},"id":1526},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":1528},{"expr":{"List":[{"expr":{"Atom":"read-uint8"},"id":1530},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1532},{"expr":{"Atom":"ctx"},"id":1533},{"expr":{"Atom":"parsed-segwit-marker"},"id":1534}]},"id":1531}]},"id":1529}]},"id":1527}]},"id":1525},{"expr":{"List":[{"expr":{"Atom":"parsed-txins"},"id":1536},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":1538},{"expr":{"List":[{"expr":{"Atom":"read-txins"},"id":1540},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1542},{"expr":{"Atom":"ctx"},"id":1543},{"expr":{"Atom":"parsed-segwit-version"},"id":1544}]},"id":1541}]},"id":1539}]},"id":1537}]},"id":1535},{"expr":{"List":[{"expr":{"Atom":"parsed-txouts"},"id":1546},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":1548},{"expr":{"List":[{"expr":{"Atom":"read-txouts"},"id":1550},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1552},{"expr":{"Atom":"ctx"},"id":1553},{"expr":{"Atom":"parsed-txins"},"id":1554}]},"id":1551}]},"id":1549}]},"id":1547}]},"id":1545},{"expr":{"List":[{"expr":{"Atom":"parsed-witnesses"},"id":1556},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":1558},{"expr":{"List":[{"expr":{"Atom":"read-witnesses"},"id":1560},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1562},{"expr":{"Atom":"ctx"},"id":1563},{"expr":{"Atom":"parsed-txouts"},"id":1564}]},"id":1561},{"expr":{"List":[{"expr":{"Atom":"len"},"id":1566},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1568},{"expr":{"Atom":"txins"},"id":1569},{"expr":{"Atom":"parsed-txins"},"id":1570}]},"id":1567}]},"id":1565}]},"id":1559}]},"id":1557}]},"id":1555},{"expr":{"List":[{"expr":{"Atom":"parsed-locktime"},"id":1572},{"expr":{"List":[{"expr":{"Atom":"try!"},"id":1574},{"expr":{"List":[{"expr":{"Atom":"read-uint32"},"id":1576},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1578},{"expr":{"Atom":"ctx"},"id":1579},{"expr":{"Atom":"parsed-witnesses"},"id":1580}]},"id":1577}]},"id":1575}]},"id":1573}]},"id":1571}]},"id":1497},{"expr":{"List":[{"expr":{"Atom":"asserts!"},"id":1582},{"expr":{"List":[{"expr":{"Atom":"and"},"id":1584},{"expr":{"List":[{"expr":{"Atom":"is-eq"},"id":1586},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1588},{"expr":{"Atom":"uint8"},"id":1589},{"expr":{"Atom":"parsed-segwit-marker"},"id":1590}]},"id":1587},{"expr":{"LiteralValue":{"UInt":0}},"id":1591}]},"id":1585},{"expr":{"List":[{"expr":{"Atom":"is-eq"},"id":1593},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1595},{"expr":{"Atom":"uint8"},"id":1596},{"expr":{"Atom":"parsed-segwit-version"},"id":1597}]},"id":1594},{"expr":{"LiteralValue":{"UInt":1}},"id":1598}]},"id":1592}]},"id":1583},{"expr":{"List":[{"expr":{"Atom":"err"},"id":1600},{"expr":{"Atom":"ERR-NOT-SEGWIT-TRANSACTION"},"id":1601}]},"id":1599}]},"id":1581},{"expr":{"List":[{"expr":{"Atom":"asserts!"},"id":1603},{"expr":{"List":[{"expr":{"Atom":"is-eq"},"id":1605},{"expr":{"List":[{"expr":{"Atom":"len"},"id":1607},{"expr":{"Atom":"tx"},"id":1608}]},"id":1606},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1610},{"expr":{"Atom":"index"},"id":1611},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1613},{"expr":{"Atom":"ctx"},"id":1614},{"expr":{"Atom":"parsed-locktime"},"id":1615}]},"id":1612}]},"id":1609}]},"id":1604},{"expr":{"List":[{"expr":{"Atom":"err"},"id":1617},{"expr":{"Atom":"ERR-LEFTOVER-DATA"},"id":1618}]},"id":1616}]},"id":1602},{"expr":{"List":[{"expr":{"Atom":"ok"},"id":1620},{"expr":{"List":[{"expr":{"Atom":"tuple"},"id":1622},{"expr":{"List":[{"expr":{"Atom":"version"},"id":1624},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1626},{"expr":{"Atom":"uint32"},"id":1627},{"expr":{"Atom":"parsed-version"},"id":1628}]},"id":1625}]},"id":1623},{"expr":{"List":[{"expr":{"Atom":"segwit-marker"},"id":1630},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1632},{"expr":{"Atom":"uint8"},"id":1633},{"expr":{"Atom":"parsed-segwit-marker"},"id":1634}]},"id":1631}]},"id":1629},{"expr":{"List":[{"expr":{"Atom":"segwit-version"},"id":1636},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1638},{"expr":{"Atom":"uint8"},"id":1639},{"expr":{"Atom":"parsed-segwit-version"},"id":1640}]},"id":1637}]},"id":1635},{"expr":{"List":[{"expr":{"Atom":"ins"},"id":1642},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1644},{"expr":{"Atom":"txins"},"id":1645},{"expr":{"Atom":"parsed-txins"},"id":1646}]},"id":1643}]},"id":1641},{"expr":{"List":[{"expr":{"Atom":"outs"},"id":1648},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1650},{"expr":{"Atom":"txouts"},"id":1651},{"expr":{"Atom":"parsed-txouts"},"id":1652}]},"id":1649}]},"id":1647},{"expr":{"List":[{"expr":{"Atom":"txid"},"id":1654},{"expr":{"List":[{"expr":{"Atom":"if"},"id":1656},{"expr":{"Atom":"calculate-txid"},"id":1657},{"expr":{"List":[{"expr":{"Atom":"some"},"id":1659},{"expr":{"List":[{"expr":{"Atom":"reverse-buff32"},"id":1661},{"expr":{"List":[{"expr":{"Atom":"sha256"},"id":1663},{"expr":{"List":[{"expr":{"Atom":"sha256"},"id":1665},{"expr":{"List":[{"expr":{"Atom":"concat"},"id":1667},{"expr":{"List":[{"expr":{"Atom":"unwrap-panic"},"id":1669},{"expr":{"List":[{"expr":{"Atom":"slice?"},"id":1671},{"expr":{"Atom":"tx"},"id":1672},{"expr":{"LiteralValue":{"UInt":0}},"id":1673},{"expr":{"LiteralValue":{"UInt":4}},"id":1674}]},"id":1670}]},"id":1668},{"expr":{"List":[{"expr":{"Atom":"concat"},"id":1676},{"expr":{"List":[{"expr":{"Atom":"unwrap-panic"},"id":1678},{"expr":{"List":[{"expr":{"Atom":"slice?"},"id":1680},{"expr":{"Atom":"tx"},"id":1681},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1683},{"expr":{"Atom":"index"},"id":1684},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1686},{"expr":{"Atom":"ctx"},"id":1687},{"expr":{"Atom":"parsed-segwit-version"},"id":1688}]},"id":1685}]},"id":1682},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1690},{"expr":{"Atom":"index"},"id":1691},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1693},{"expr":{"Atom":"ctx"},"id":1694},{"expr":{"Atom":"parsed-txouts"},"id":1695}]},"id":1692}]},"id":1689}]},"id":1679}]},"id":1677},{"expr":{"List":[{"expr":{"Atom":"unwrap-panic"},"id":1697},{"expr":{"List":[{"expr":{"Atom":"slice?"},"id":1699},{"expr":{"Atom":"tx"},"id":1700},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1702},{"expr":{"Atom":"index"},"id":1703},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1705},{"expr":{"Atom":"ctx"},"id":1706},{"expr":{"Atom":"parsed-witnesses"},"id":1707}]},"id":1704}]},"id":1701},{"expr":{"List":[{"expr":{"Atom":"len"},"id":1709},{"expr":{"Atom":"tx"},"id":1710}]},"id":1708}]},"id":1698}]},"id":1696}]},"id":1675}]},"id":1666}]},"id":1664}]},"id":1662}]},"id":1660}]},"id":1658},{"expr":{"Atom":"none"},"id":1711}]},"id":1655}]},"id":1653},{"expr":{"List":[{"expr":{"Atom":"witnesses"},"id":1713},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1715},{"expr":{"Atom":"witnesses"},"id":1716},{"expr":{"Atom":"parsed-witnesses"},"id":1717}]},"id":1714}]},"id":1712},{"expr":{"List":[{"expr":{"Atom":"locktime"},"id":1719},{"expr":{"List":[{"expr":{"Atom":"get"},"id":1721},{"expr":{"Atom":"uint32"},"id":1722},{"expr":{"Atom":"parsed-locktime"},"id":1723}]},"id":1720}]},"id":1718}]},"id":1621}]},"id":1619}]},"id":1495}},"verify-block-header":{"identifier":{"identifier":"SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.clarity-bitcoin-lib-v5:verify-block-header"},"name":"verify-block-header","arg_types":[{"SequenceType":{"BufferType":80}},"UIntType"],"define_type":"ReadOnly","arguments":["headerbuff","expected-block-height"],"body":{"expr":{"List":[{"expr":{"Atom":"match"},"id":1971},{"expr":{"List":[{"expr":{"Atom":"get-bc-h-hash"},"id":1973},{"expr":{"Atom":"expected-block-height"},"id":1974}]},"id":1972},{"expr":{"Atom":"bhh"},"id":1975},{"expr":{"List":[{"expr":{"Atom":"is-eq"},"id":1977},{"expr":{"Atom":"bhh"},"id":1978},{"expr":{"List":[{"expr":{"Atom":"reverse-buff32"},"id":1980},{"expr":{"List":[{"expr":{"Atom":"sha256"},"id":1982},{"expr":{"List":[{"expr":{"Atom":"sha256"},"id":1984},{"expr":{"Atom":"headerbuff"},"id":1985}]},"id":1983}]},"id":1981}]},"id":1979}]},"id":1976},{"expr":{"Atom":"false"},"id":1986}]},"id":1970}}},"defined_traits":{},"implemented_traits":[],"persisted_names":[],"meta_data_map":{},"meta_data_var":{},"meta_nft":{},"meta_ft":{},"data_size":208,"clarity_version":"Clarity2"}}